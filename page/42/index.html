<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="Joe Huang"><meta name="copyright" content="Joe Huang"><title>Awaken Desparado</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.1.1"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Joe Huang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">298</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">25</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">45</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Awaken Desparado</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Awaken Desparado</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/25/Algo.%20Ult./Trie%20Topics/">Algo. Ult./Trie Topics</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/AlgoUlt/">AlgoUlt.</a></span><div class="content"><h2 id="559-Trie-Service"><a href="#559-Trie-Service" class="headerlink" title="559 Trie Service"></a>559 Trie Service</h2><p>Build tries from a list of &lt;word, freq&gt; pairs. Save top 10 for each node.</p>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><p><strong>Example1</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Input:  </span><br><span class="line"> &lt;&quot;abc&quot;, 2&gt;</span><br><span class="line"> &lt;&quot;ac&quot;, 4&gt;</span><br><span class="line"> &lt;&quot;ab&quot;, 9&gt;</span><br><span class="line">Output:&lt;a[9,4,2]&lt;b[9,2]&lt;c[2]&lt;&gt;&gt;c[4]&lt;&gt;&gt;&gt; </span><br><span class="line">Explanation:</span><br><span class="line">			Root</span><br><span class="line">             &#x2F; </span><br><span class="line">           a(9,4,2)</span><br><span class="line">          &#x2F;    \</span><br><span class="line">        b(9,2) c(4)</span><br><span class="line">       &#x2F;</span><br><span class="line">     c(2)</span><br></pre></td></tr></table></figure>

<p><strong>Example2</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Input:  </span><br><span class="line">&lt;&quot;a&quot;, 10&gt;</span><br><span class="line">&lt;&quot;c&quot;, 41&gt;</span><br><span class="line">&lt;&quot;b&quot;, 50&gt;</span><br><span class="line">&lt;&quot;abc&quot;, 5&gt;</span><br><span class="line">Output: &lt;a[10,5]&lt;b[5]&lt;c[5]&lt;&gt;&gt;&gt;b[50]&lt;&gt;c[41]&lt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Serialize <span class="keyword">and</span> deserialize a trie (prefix tree, search on internet <span class="keyword">for</span> more details).</span><br><span class="line"></span><br><span class="line">You can specify your own serialization algorithm, the online judge only cares about whether you can successfully deserialize the output <span class="keyword">from</span> your own serialize function.</span><br><span class="line"></span><br><span class="line">You only need to implement these two functions serialize <span class="keyword">and</span> deserialize. We will run the following code snippet</span><br><span class="line"></span><br><span class="line">str = serialize(old_trie)</span><br><span class="line">// str can be any string used to represent this tree</span><br><span class="line">new_trie = deserialize(str)</span><br><span class="line">// The new tree should be identical to the old one</span><br><span class="line">Example</span><br><span class="line">Example <span class="number">1</span></span><br><span class="line"></span><br><span class="line">Input: &lt;a&lt;b&lt;e&lt;&gt;&gt;c&lt;&gt;d&lt;f&lt;&gt;&gt;&gt;&gt;</span><br><span class="line">Output: &lt;a&lt;b&lt;e&lt;&gt;&gt;c&lt;&gt;d&lt;f&lt;&gt;&gt;&gt;&gt;</span><br><span class="line">Explanation:</span><br><span class="line">The trie <span class="keyword">is</span> look like this.</span><br><span class="line">     root</span><br><span class="line">      /</span><br><span class="line">     a</span><br><span class="line">   / | \</span><br><span class="line">  b  c  d</span><br><span class="line"> /       \</span><br><span class="line">e         f</span><br><span class="line">Example <span class="number">2</span></span><br><span class="line"></span><br><span class="line">Input: &lt;a&lt;&gt;&gt;</span><br><span class="line">Output: &lt;a&lt;&gt;&gt;</span><br><span class="line">Notice</span><br><span class="line">You don<span class="string">'t have to serialize like the test data, you can design your own format.</span></span><br></pre></td></tr></table></figure>



<h2 id="527-Trie-Serialization"><a href="#527-Trie-Serialization" class="headerlink" title="527 Trie Serialization"></a>527 Trie Serialization</h2><p>Serialize and deserialize a trie (prefix tree, search on internet for more details).</p>
<p>You can specify your own serialization algorithm, the online judge only cares about whether you can successfully deserialize the output from your own serialize function.</p>
<p>You only need to implement these two functions <code>serialize</code> and <code>deserialize</code>. We will run the following code snippet</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">str = serialize(old_trie)</span><br><span class="line"><span class="comment">// str can be any string used to represent this tree</span></span><br><span class="line">new_trie = deserialize(str)</span><br><span class="line"><span class="comment">// The new tree should be identical to the old one</span></span><br></pre></td></tr></table></figure>

<h3 id="Example-1"><a href="#Example-1" class="headerlink" title="Example"></a>Example</h3><p><strong>Example 1</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: &lt;a&lt;b&lt;e&lt;&gt;&gt;c&lt;&gt;d&lt;f&lt;&gt;&gt;&gt;&gt;</span><br><span class="line">Output: &lt;a&lt;b&lt;e&lt;&gt;&gt;c&lt;&gt;d&lt;f&lt;&gt;&gt;&gt;&gt;</span><br><span class="line">Explanation:</span><br><span class="line">The trie is look like this.</span><br><span class="line">     root</span><br><span class="line">      &#x2F;</span><br><span class="line">     a</span><br><span class="line">   &#x2F; | \</span><br><span class="line">  b  c  d</span><br><span class="line"> &#x2F;       \</span><br><span class="line">e         f</span><br></pre></td></tr></table></figure>

<p><strong>Example 2</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &lt;a&lt;&gt;&gt;</span><br><span class="line">Output: &lt;a&lt;&gt;&gt;</span><br></pre></td></tr></table></figure>

<h3 id="Notice"><a href="#Notice" class="headerlink" title="Notice"></a>Notice</h3><p>You don’t have to serialize like the test data, you can design your own format.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Definition of TrieNode:</span></span><br><span class="line"><span class="string">class TrieNode:</span></span><br><span class="line"><span class="string">    def __init__(self):</span></span><br><span class="line"><span class="string">        # &lt;key, value&gt;: &lt;Character, TrieNode&gt;</span></span><br><span class="line"><span class="string">        self.children = collections.OrderedDict()</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    @param root: An object of TrieNode, denote the root of the trie.</span></span><br><span class="line"><span class="string">    This method will be invoked first, you should design your own algorithm </span></span><br><span class="line"><span class="string">    to serialize a trie which denote by a root node to a string which</span></span><br><span class="line"><span class="string">    can be easily deserialized by your own "deserialize" method later.</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">serialize</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="comment"># Write your code here</span></span><br><span class="line">        <span class="keyword">if</span> root <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line"></span><br><span class="line">        data = <span class="string">""</span></span><br><span class="line">        <span class="keyword">for</span> key, value <span class="keyword">in</span> root.children.items():</span><br><span class="line">            data += key + self.serialize(value)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&lt;%s&gt;"</span> % data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    @param data: A string serialized by your serialize method.</span></span><br><span class="line"><span class="string">    This method will be invoked second, the argument data is what exactly</span></span><br><span class="line"><span class="string">    you serialized at method "serialize", that means the data is not given by</span></span><br><span class="line"><span class="string">    system, it's given by your own serialize method. So the format of data is</span></span><br><span class="line"><span class="string">    designed by yourself, and deserialize it here as you serialize it in </span></span><br><span class="line"><span class="string">    "serialize" method.</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deserialize</span><span class="params">(self, data)</span>:</span></span><br><span class="line">        <span class="comment"># Write your code here</span></span><br><span class="line">        <span class="keyword">if</span> data <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> len(data) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        root = TrieNode()</span><br><span class="line">        current = root</span><br><span class="line">        path =[]</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> data:</span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">'&lt;'</span>:</span><br><span class="line">                path.append(current)</span><br><span class="line">            <span class="keyword">elif</span> c == <span class="string">'&gt;'</span>:</span><br><span class="line">                path.pop()</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                current = TrieNode()</span><br><span class="line">                <span class="keyword">if</span> len(path) == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">print</span> c, path</span><br><span class="line">                path[<span class="number">-1</span>].children[c] = current</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/25/FFmpeg/2019-09-25-ffmepg-cmd-3-I-frame-extraction/">FFmpeg/2019-09-25-ffmepg-cmd-3-I-frame-extraction</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/ffmpeg/">ffmpeg</a></span><div class="content"><h3 id="I-frame-extraction"><a href="#I-frame-extraction" class="headerlink" title="I-frame extraction"></a>I-frame extraction</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i vn_hflip.mp4 -vf select=<span class="string">'eq(pict_type\,I)'</span> -vsync 2 -s 1280*720 -f image2 keyframe-%03d.jpeg</span><br></pre></td></tr></table></figure>

<p>-vf:是一个命令行，表示过滤图形的描述。选择过滤器select会选择帧进行输出：pict_type和对应的类型:PICT_TYPE_I 表示是I帧，即关键帧；<br>-vsync 2:阻止每个关键帧产生多余的拷贝；<br>-f image2 name_%02d.jpeg:将视频帧写入到图片中，样式的格式一般是: “%d” 或者 “%0Nd”</p>
<h3 id="Index-of-I-frame"><a href="#Index-of-I-frame" class="headerlink" title="Index of I-frame"></a>Index of I-frame</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -i vn_hflip.mp4 -select_streams v -show_frames -show_entries frame=pict_type -of csv | grep -n I | cut -d <span class="string">':'</span> -f 1 &gt; frame_index.txt</span><br></pre></td></tr></table></figure>



<h3 id="Relates-the-twos"><a href="#Relates-the-twos" class="headerlink" title="Relates the twos"></a>Relates the twos</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls -1 keyframe*.jpeg &gt; keyframe.txt</span><br><span class="line">paste frame_index.txt  keyframe.txt&gt; result.txt</span><br></pre></td></tr></table></figure>

<p>(joe_py36)<br>~/workspace/exp/FFmpeg_<br>☺  more result.txt<br>☺  more result.txt<br>1       keyframe-01.jpeg<br>3       keyframe-02.jpeg<br>16      keyframe-03.jpeg<br>25      keyframe-04.jpeg<br>30      keyframe-05.jpeg<br>46      keyframe-06.jpeg<br>55      keyframe-07.jpeg<br>59      keyframe-08.jpeg<br>70      keyframe-09.jpeg<br>83      keyframe-10.jpeg<br>100     keyframe-11.jpeg<br>116     keyframe-12.jpeg</p>
<h3 id="翻译ffmpeg-all文档（40），多媒体滤镜"><a href="#翻译ffmpeg-all文档（40），多媒体滤镜" class="headerlink" title="翻译ffmpeg-all文档（40），多媒体滤镜"></a><a href="http://blog.chinaunix.net/uid-10062010-id-5137275.html" target="_blank" rel="noopener">翻译ffmpeg-all文档（40），多媒体滤镜</a></h3><p><a href="http://blog.chinaunix.net/uid-10062010-id-5137275.html" target="_blank" rel="noopener">http://blog.chinaunix.net/uid-10062010-id-5137275.html</a></p>
<p>Ref: <a href="https://superuser.com/questions/885452/extracting-the-index-of-key-frames-from-a-video-using-ffmpeg" target="_blank" rel="noopener">https://superuser.com/questions/885452/extracting-the-index-of-key-frames-from-a-video-using-ffmpeg</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/16/DP%20Ult./DP-1-Intro/">DP Ult./DP-1-Intro</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-16</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/DP-Ult/">DP Ult.</a></span><div class="content"><h1 id="My"><a href="#My" class="headerlink" title="My"></a>My</h1><h2 id="House-Robber"><a href="#House-Robber" class="headerlink" title="House Robber"></a>House Robber</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums : <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> len(nums) == <span class="number">1</span>: <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># return self.O_1(nums)</span></span><br><span class="line">        <span class="keyword">return</span> self.O_SeqDP_2xN(nums)</span><br><span class="line">        <span class="keyword">return</span> self.O_SeqDP_2x1_arr(nums)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">O_SeqDP_2x1_arr</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        </span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        dp[0]: no-rob</span></span><br><span class="line"><span class="string">        dp[1]: rob</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        dp = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>)]</span><br><span class="line">        dp[<span class="number">1</span>] = nums[<span class="number">0</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">            prev_norob = dp[<span class="number">0</span>]</span><br><span class="line">            dp[<span class="number">0</span>] = max(dp[<span class="number">0</span>], dp[<span class="number">1</span>])</span><br><span class="line">            dp[<span class="number">1</span>] = prev_norob + nums[j]</span><br><span class="line">            <span class="comment"># print(dp)</span></span><br><span class="line">        <span class="keyword">return</span> max(dp)</span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">O_SeqDP_2x1</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        norob = <span class="number">0</span></span><br><span class="line">        rob = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">            prev_norob = norob</span><br><span class="line">            norob = max(norob, rob)</span><br><span class="line">            rob = prev_norob + nums[j]</span><br><span class="line">        <span class="keyword">return</span> max(norob, rob)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">O_SeqDP_2xN</span><span class="params">(self, nums)</span>:</span>    <span class="comment"># ==&gt; 3xN</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        # dp[0][j] up to jth house, no-rob, max profit</span></span><br><span class="line"><span class="string">        # dp[1][j] up to jth house, rob, max profit</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        dp = [[<span class="number">0</span>] * n <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>)]</span><br><span class="line">        <span class="comment"># print(dp)</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(n):</span><br><span class="line">            dp[<span class="number">0</span>][j] = max(dp[<span class="number">0</span>][j<span class="number">-1</span>], dp[<span class="number">1</span>][j<span class="number">-1</span>])</span><br><span class="line">            dp[<span class="number">1</span>][j] = dp[<span class="number">0</span>][j<span class="number">-1</span>] + nums[j]</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># print(dp[-1])</span></span><br><span class="line">        <span class="keyword">return</span> max(dp[<span class="number">-1</span>])  <span class="comment"># 肯定至少要抢一天</span></span><br><span class="line">        <span class="keyword">return</span> max(dp[:][<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span> max(dp[<span class="number">0</span>][<span class="number">-1</span>], dp[<span class="number">1</span>][<span class="number">-1</span>])</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">O_1</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">                </span><br><span class="line">        dp = [nums[<span class="number">0</span>], max(nums[<span class="number">0</span>], nums[<span class="number">1</span>]), <span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>: </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span> n &lt;= <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> dp[n<span class="number">-1</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n):</span><br><span class="line">            dp[i%<span class="number">3</span>] = max(dp[(i<span class="number">-2</span>)%<span class="number">3</span>]+nums[i], dp[(i<span class="number">-1</span>)%<span class="number">3</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[(n<span class="number">-1</span>)%<span class="number">3</span>]</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">O_N</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        n = len(nums)</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span> n == <span class="number">1</span>: <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">elif</span> n == <span class="number">2</span>: <span class="keyword">return</span> max(nums[<span class="number">0</span>],           nums[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">elif</span> n == <span class="number">3</span>: <span class="keyword">return</span> max(nums[<span class="number">0</span>] + nums[<span class="number">2</span>], nums[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># up to ith house, maximum $ I can get</span></span><br><span class="line">        dp = [<span class="number">0</span>] * len(nums)</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>]</span><br><span class="line">        dp[<span class="number">1</span>] = max(nums[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">        <span class="comment"># dp[2] = max(dp[0] + nums[2], dp[1]) </span></span><br><span class="line">                    </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, len(nums)):</span><br><span class="line">            dp[i] = max(dp[i<span class="number">-2</span>] + nums[i], dp[i<span class="number">-1</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">-1</span>]</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rob_old</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> len(nums) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> len(nums) == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> max(nums[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span> len(nums) == <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> max(nums[<span class="number">0</span>]+ nums[<span class="number">2</span>], nums[<span class="number">1</span>]) </span><br><span class="line">        </span><br><span class="line">        dp = [<span class="number">0</span>] * len(nums)</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>]</span><br><span class="line">        dp[<span class="number">1</span>] = max(dp[<span class="number">0</span>], nums[<span class="number">1</span>])</span><br><span class="line">        dp[<span class="number">2</span>] = max(dp[<span class="number">0</span>]+ nums[<span class="number">2</span>], dp[<span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>, len(nums)):</span><br><span class="line">            dp[i] = max(dp[i<span class="number">-2</span>]+nums[i], dp[i<span class="number">-1</span>])</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> dp[i]</span><br></pre></td></tr></table></figure>



<h1 id="概念們"><a href="#概念們" class="headerlink" title="概念們"></a>概念們</h1><h3 id="Q-金字塔"><a href="#Q-金字塔" class="headerlink" title="Q: 金字塔"></a>Q: 金字塔</h3><h5 id="給你下面的數字金字塔-你需要從頂部走到底部-在這個過程中你途徑的數字之和最大是多少"><a href="#給你下面的數字金字塔-你需要從頂部走到底部-在這個過程中你途徑的數字之和最大是多少" class="headerlink" title="給你下面的數字金字塔, 你需要從頂部走到底部, 在這個過程中你途徑的數字之和最大是多少?"></a>給你下面的數字金字塔, 你需要從頂部走到底部, 在這個過程中你途徑的數字之和最大是多少?</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">        7 </span><br><span class="line">       &#x2F; \</span><br><span class="line">      3   8</span><br><span class="line">     &#x2F; \ &#x2F; \</span><br><span class="line">    8   1   0 </span><br><span class="line">   &#x2F; \ &#x2F; \ &#x2F; \</span><br><span class="line">  2   7   4   4</span><br><span class="line"> &#x2F; \ &#x2F; \ &#x2F; \ &#x2F; \  </span><br><span class="line">4   5   2   6   5</span><br></pre></td></tr></table></figure>

<ul>
<li>如何編程實現？(假設N為金字塔的層數)<ul>
<li><input checked="" disabled="" type="checkbox"> Recursion - 遍歷所有的路徑，找出最大值，時間複雜度 O(2^N)</li>
<li><input disabled="" type="checkbox"> Greedy - 每次都走更大的點，時間複雜度 O(N^2)</li>
<li><input checked="" disabled="" type="checkbox"> DP- O(N^2)</li>
</ul>
</li>
</ul>
<h3 id="Q-2D-Matrix"><a href="#Q-2D-Matrix" class="headerlink" title="Q: 2D Matrix"></a>Q: 2D Matrix</h3><h5 id="給定一個矩陣網路，機器人左上走到右下不可退，哪個時間更少時間？"><a href="#給定一個矩陣網路，機器人左上走到右下不可退，哪個時間更少時間？" class="headerlink" title="給定一個矩陣網路，機器人左上走到右下不可退，哪個時間更少時間？"></a>給定一個矩陣網路，機器人左上走到右下不可退，哪個時間更少時間？</h5><ul>
<li><input checked="" disabled="" type="checkbox"> 求有多少種方式可以走到右下角 ==&gt; 如果用DP，可以把指數複雜度變polynomial!</li>
<li><input disabled="" type="checkbox"> 輸出所有走到右下角的路徑</li>
<li><input disabled="" type="checkbox"> 需要花費同樣的時間</li>
</ul>
<h3 id="Q-經典背包"><a href="#Q-經典背包" class="headerlink" title="Q: 經典背包"></a>Q: 經典背包</h3><h5 id="有一些物品，每個有一定的重量和價值。給一個背包，它的裝載重量有限。我應該用什麼策略裝物品才能拿走最大的總價值？"><a href="#有一些物品，每個有一定的重量和價值。給一個背包，它的裝載重量有限。我應該用什麼策略裝物品才能拿走最大的總價值？" class="headerlink" title="有一些物品，每個有一定的重量和價值。給一個背包，它的裝載重量有限。我應該用什麼策略裝物品才能拿走最大的總價值？"></a>有一些物品，每個有一定的重量和價值。給一個背包，它的裝載重量有限。我應該用什麼策略裝物品才能拿走最大的總價值？</h5><ul>
<li><input disabled="" type="checkbox"> 按照價值從大到小排序，能拿就拿</li>
<li><input disabled="" type="checkbox"> 按照重量從大到小排序，能拿就拿</li>
<li><input disabled="" type="checkbox"> 計算每個物品的性價比，按照性價比從大到小排序，能拿就拿</li>
<li><input checked="" disabled="" type="checkbox"> 以上都不對</li>
</ul>
<blockquote>
<p>这是很经典的一类动态规划问题, 资源分配型的背包问题. 对于ABC选项我们可以举一个例子看看。<br>A.我们一个背包装载重量是10，有三个物品，重量分别为5、4、7，价值分别为6、4、9，按照我们的策略先拿价值高的物品，拿了第三个物品后，我们的背包就无法在放入其他物品了。但是我们可以发现如果我们拿第一个和第二个物品，我们可以获得更大的价值。同理也可以举出先拿价值小的策略的反例。<br>B.我们一个背包装载重量是10，有三个物品，重量分别为9、4、3，价值分别为1、5、10，按照我们的策略先拿重量高的物品，拿了第一个物品后，我们的背包就无法在放入其他物品了。但是我们可以发现如果我们拿第二个和第三个物品，我们可以获得更大的价值。同理也可以举出先拿重量小的策略的反例。<br>有同学就会有疑问了，我们为什么不按照性价比来拿呢，那么我们来看一下C选项，如果我们一个背包装载重量是10，有三个物品，重量分别为9、4、6，价值分别为20、8、13，我们按照性价比排序，性价比最高的是第一个物品，我们按照策略先拿第一个物品，然后背包不能放入其他物品，其实我们可以发现二三两个物品的价值是超过第一个物品的，我们可以获得更大的价值。同理也可以举出先拿价值小的策略的反例。<br>这样一个问题，贪心求的只是局部最优解，这一题中无法得到全局最优解，所以我们需要用到动态规划。动态规划的做法我们会在后面的章节讲到，准备感受动态规划的魅力吧!</p>
</blockquote>
<h2 id="What"><a href="#What" class="headerlink" title="What ?"></a>What ?</h2><ul>
<li><p>一般就是给個「最優解」或是「方式數」</p>
</li>
<li><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj0xwpxfnvj30ss0hqgv5.jpg" alt="image-20200923221204941" style="zoom:50%;" />



</li>
</ul>
<h3 id="Q-Coins-Change"><a href="#Q-Coins-Change" class="headerlink" title="Q: Coins Change"></a>Q: Coins Change</h3><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj0yex7hc4j314c0kkwx4.jpg" alt="image-20200923222934441" style="zoom:50%;" />



<h4 id="DFS-–-爆棧"><a href="#DFS-–-爆棧" class="headerlink" title="DFS – 爆棧"></a>DFS – 爆棧</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(self, coins: List[int], amount: int)</span> -&gt; int:</span></span><br><span class="line">        self.coins = coins</span><br><span class="line">        <span class="comment"># return self.helper_dfs_0923(coins, amount)</span></span><br><span class="line">        ans = self.helper_dfs_0923(amount) <span class="comment"># TLE on lintcode, but 2000ms AC here</span></span><br><span class="line">        <span class="keyword">return</span> ans <span class="keyword">if</span> ans != sys.maxsize <span class="keyword">else</span> <span class="number">-1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># @lru_cache</span></span><br><span class="line">    <span class="comment"># def helper_dfs_0923(self, coins, amount):</span></span><br><span class="line"><span class="meta">    @lru_cache(maxsize=None)    # ==&gt; 只給到996次, 爆棧</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper_dfs_0923</span><span class="params">(self, amount)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> amount == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        res = sys.maxsize</span><br><span class="line">        <span class="keyword">for</span> coin <span class="keyword">in</span> self.coins:</span><br><span class="line">            <span class="keyword">if</span> amount &gt;= coin:</span><br><span class="line">                <span class="comment"># res = min(self.helper_dfs_0923(coins, amount-coin) + 1, res)</span></span><br><span class="line">                res = min(self.helper_dfs_0923(amount-coin) + <span class="number">1</span>, res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h4 id="DP"><a href="#DP" class="headerlink" title="DP"></a>DP</h4><h5 id="成份一-確定狀態"><a href="#成份一-確定狀態" class="headerlink" title="成份一: 確定狀態"></a>成份一: 確定狀態</h5><ul>
<li>最後一步！</li>
<li>子問題！</li>
</ul>
<h5 id="成份二-轉移方程"><a href="#成份二-轉移方程" class="headerlink" title="成份二: 轉移方程"></a>成份二: 轉移方程</h5><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj10x9gsptj315a0eq7fn.jpg" alt="image-20200923235619275" style="zoom:50%;" />



<h5 id="成份三-初始條件-0時候-amp-邊界情況-上下都不越界"><a href="#成份三-初始條件-0時候-amp-邊界情況-上下都不越界" class="headerlink" title="成份三: 初始條件(0時候) &amp; 邊界情況 (上下都不越界)"></a>成份三: 初始條件(0時候) &amp; 邊界情況 (上下都不越界)</h5><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj11jg15bnj30ze0gwdpz.jpg" alt="image-20200924001745796"></p>
<h5 id="成份四-計算順序？"><a href="#成份四-計算順序？" class="headerlink" title="成份四: 計算順序？"></a>成份四: 計算順序？</h5><ul>
<li>小到大 &gt; 大到小，一般情況</li>
<li>原則: 當要算左邊時，右邊都已經算過了! </li>
</ul>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj11llf83aj314k0c8dkx.jpg" alt="image-20200924001950739" style="zoom:50%;" />

<img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj11n8e6kbj310q0ikjw8.jpg" alt="image-20200924002125288" style="zoom:50%;" />

<ul>
<li><p>多快? ==&gt; 27* 3</p>
<p>任何一個狀態只算了一次！</p>
<p>![image-20200924092101595](/Users/joe/Library/Application Support/typora-user-images/image-20200924092101595.png)</p>
</li>
</ul>
<h5 id="Coding"><a href="#Coding" class="headerlink" title="Coding!"></a>Coding!</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">coinChange</span><span class="params">(self, coins, amount)</span>:</span></span><br><span class="line">    <span class="comment"># write your code here</span></span><br><span class="line">    self.coins = coins</span><br><span class="line">    <span class="comment"># return self.helper_dfs_0923(coins, amount)</span></span><br><span class="line">    <span class="comment"># return self.helper_dfs_0923(amount) # TLE</span></span><br><span class="line">    <span class="keyword">return</span> self.helper_dp_0923(coins, amount)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">helper_dp_0923</span><span class="params">(self, A, M)</span>:</span></span><br><span class="line">    f = [<span class="number">0</span>] * (M+<span class="number">1</span>)</span><br><span class="line">    n = len(A)</span><br><span class="line">    f[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, M+<span class="number">1</span>):</span><br><span class="line">        f[i] = sys.maxsize</span><br><span class="line">        <span class="comment"># last coin A[j]</span></span><br><span class="line">        <span class="comment"># f[i] = min&#123;f[i-A[0)+1, ....,f[i-A[n-1]]+1&#125;</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>, n):</span><br><span class="line">            <span class="keyword">if</span> i &gt;= A[j] <span class="keyword">and</span> f[i-A[j]] != sys.maxsize:</span><br><span class="line">                f[i] = min(f[i-A[j]] + <span class="number">1</span>, f[i])</span><br><span class="line">        <span class="comment"># print(f)</span></span><br><span class="line">    <span class="keyword">if</span> f[M] == sys.maxsize:</span><br><span class="line">        f[M] = <span class="number">-1</span></span><br><span class="line">    <span class="keyword">return</span> f[M]</span><br></pre></td></tr></table></figure>





<p>Onsite</p>
<h2 id="計數型DP"><a href="#計數型DP" class="headerlink" title="計數型DP"></a>計數型DP</h2><h3 id="Q-機器人走路-–-再聊加法原理"><a href="#Q-機器人走路-–-再聊加法原理" class="headerlink" title="Q: 機器人走路 – 再聊加法原理"></a>Q: 機器人走路 – 再聊加法原理</h3><ul>
<li>確定狀態<ul>
<li>最後一步<ul>
<li>無論機器人用何方式到達右下角，總有最後挪動一步:<ul>
<li>右</li>
<li>下</li>
</ul>
</li>
<li>就加法原理，原則為，當計數型DP時，常使用此思維<ul>
<li>無重覆</li>
<li>無遺漏</li>
</ul>
</li>
</ul>
</li>
<li>子問題!</li>
</ul>
</li>
<li>轉移方程<ul>
<li>上面來跟左邊來</li>
</ul>
</li>
<li>初始條件和邊界情況<ul>
<li>f 0 0 = 1</li>
<li>i==0時和j==0時只有單邊來</li>
</ul>
</li>
<li>計算順序<ul>
<li>是因為「現在要算的需要之前的」</li>
</ul>
</li>
</ul>
<h2 id="存在型DP"><a href="#存在型DP" class="headerlink" title="存在型DP"></a>存在型DP</h2><h3 id="116-Jump-Game"><a href="#116-Jump-Game" class="headerlink" title="116 Jump Game"></a>116 Jump Game</h3><p>青蛙從0跳到最後一塊石頭</p>
<ol>
<li><p>確定狀態</p>
<ul>
<li><p>要可以到i ==&gt; f[j] 表示青蛙能否跳到石頭 j</p>
</li>
<li><p>子問題 ↑</p>
</li>
</ul>
</li>
</ol>
<ol start="2">
<li><p>設 f[i] 表示青蛙能不能跳到石頭 j </p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj1zoga968j311w0fsago.jpg" alt="image-20200924195854904"></p>
</li>
</ol>
<ul>
<li><p>最值型</p>
<ul>
<li>Min &amp; Max</li>
</ul>
</li>
<li><p>計數型</p>
<ul>
<li>+</li>
</ul>
</li>
<li><p>存在型 (可行性型)</p>
<ul>
<li>Or , And</li>
</ul>
</li>
</ul>
<ol start="3">
<li><p>初始條件和邊界情況</p>
<ul>
<li><p>初始條件: f[0] = True，因為一開始就在這</p>
</li>
<li><p>邊界問題:  沒有</p>
</li>
</ul>
</li>
</ol>
<ol start="4">
<li><p>計算順序</p>
<ul>
<li>小到大，左到右</li>
<li>時間複雜度: O(N^2) ==&gt; <strong>又要枚舉 j,  又要枚舉 i</strong> </li>
<li><img src="/Users/joe/Library/Application Support/typora-user-images/image-20200924200323268.png" alt="image-20200924200323268" style="zoom:50%;" />

</li>
</ul>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">canJump</span><span class="params">(self, A)</span>:</span></span><br><span class="line">    <span class="comment"># write your code here</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    1 final step </span></span><br><span class="line"><span class="string">        fr prev loc i, and i + A[i] &gt;= X</span></span><br><span class="line"><span class="string">      so, sub-problem</span></span><br><span class="line"><span class="string">      </span></span><br><span class="line"><span class="string">    2 transition fn: f[j] = OR(f[i] and i+A[i] &gt;= j)</span></span><br><span class="line"><span class="string">    3 boundary: f[0] = True, no OOR</span></span><br><span class="line"><span class="string">    4 -&gt;</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    </span><br><span class="line">    n = len(A)</span><br><span class="line">    f = [<span class="literal">False</span>] * n</span><br><span class="line">    f[<span class="number">0</span>] = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(j):</span><br><span class="line">            <span class="comment"># f[j] = </span></span><br><span class="line">            <span class="keyword">if</span> f[i] <span class="keyword">and</span> i + A[i] &gt;= j:</span><br><span class="line">                f[j] = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> f[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>



<h2 id="DP時間複雜度關聯性"><a href="#DP時間複雜度關聯性" class="headerlink" title="DP時間複雜度關聯性"></a>DP時間複雜度關聯性</h2><ol>
<li><p>狀態的數量</p>
</li>
<li><p>初始態邊界的數量</p>
<blockquote>
<p>通常来说, 动态规划的时间复杂度 = 状态数 * 状态转移代价。<br>计算顺序是从前往后或者从后往前并不会影响动态规划的时间复杂度，但是在某些情况下会影响计算结果的正确性，初始态边界的数量只会影响初始化时间复杂度，而这一部分的时间复杂度是很低的，所以一般情况下动态规划的时间复杂度不会考虑这一部分。</p>
</blockquote>
</li>
</ol>
<h2 id="Sum-Up"><a href="#Sum-Up" class="headerlink" title="Sum Up"></a>Sum Up</h2><ol>
<li><p>確定狀態</p>
<ul>
<li>最後一步</li>
<li>子問題</li>
</ul>
</li>
<li><p>轉移方程</p>
<ul>
<li>最值 min, max</li>
<li>方案數 +</li>
<li>可行數 or, and</li>
</ul>
</li>
<li><p>初始條件和邊界情況</p>
<ul>
<li>細心、考慮周全</li>
</ul>
</li>
<li><p>計算順序</p>
<ul>
<li>利用之前的計算結果</li>
</ul>
</li>
</ol>
<h2 id="FQA"><a href="#FQA" class="headerlink" title="FQA"></a>FQA</h2><ul>
<li><p>涵蓋所有動規考題</p>
<ul>
<li>是</li>
</ul>
</li>
<li><p>常見動規類型</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <strong>座標型 20% – 機器人走路</strong></li>
<li><input disabled="" type="checkbox"> <strong>序列型 20% – f[1] 也是有兩個，但如果說「前幾個」就好思考</strong></li>
<li><input disabled="" type="checkbox"> <strong>划分型 20%</strong></li>
<li><input disabled="" type="checkbox"> <strong>區間型 15%</strong></li>
<li><input checked="" disabled="" type="checkbox"> 背包型 10%</li>
<li><input checked="" disabled="" type="checkbox"> 最長序列型 5%</li>
<li><input disabled="" type="checkbox"> 博奕型 5%</li>
<li><input disabled="" type="checkbox"> 綜合型 5%<ul>
<li>區間博奕</li>
</ul>
</li>
</ul>
</li>
<li><p>時、空優化</p>
<ul>
<li>滾動</li>
<li>如何降維</li>
</ul>
</li>
<li><p>DP</p>
<ul>
<li>打印路徑</li>
</ul>
</li>
<li><p>變種突破</p>
</li>
<li><p>不知道就是不知道了很難臨時搞</p>
</li>
</ul>
<img src="/Users/joe/Library/Application Support/typora-user-images/image-20200924215239461.png" alt="image-20200924215239461" style="zoom:50%;" />



<h3 id="Q-金字塔-–-解"><a href="#Q-金字塔-–-解" class="headerlink" title="Q: 金字塔 – 解"></a>Q: 金字塔 – 解</h3><p>在金字塔的頂端，每次都可以選擇往左下或右下走，每次</p>
<p>比dfs 高效很多!!!</p>
<ul>
<li><p>DFS – 有三條路徑可以走到 7 ，當金字塔更大，要走下去路徑數就是個指數級別增加，取決於路徑數，–&gt; 指數級別  –&gt; 2^N</p>
</li>
<li><p>DP – 把子問題的狀態保存下來了! 防多次的遍歷，跟狀態數相關，這邊就是點的個數，兩個for遍歷所有狀態，把轉移方程填到for循環裡計算，<br>兩個for外計算答案 –&gt; NxN</p>
<p>並沒有所有路徑都走一遍，但卻計算了所有的<strong>可能性</strong>；已經保存了最優解，用來去更新 7 、跟-2的最優解；<br><strong>把局部的最優解放到了子問題所代表的狀態上面，用狀態代表路徑他們的最優解，然後我們不斷進行轉移</strong></p>
</li>
</ul>
<h5 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h5><ol>
<li><p>dp[i, j] = 走到 i, j這點時的最大財富值</p>
</li>
<li><p>金字塔col不清晰。斜著來, 通过一個節點寫出<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj23jf7sgtj310w0ik11x.jpg" alt="image-20200924221230404"></p>
</li>
</ol>
<ol start="3">
<li><p>初始化，這題比較easy – dp[1, 1] = 3</p>
<p>當下標不合法，就是不取!</p>
</li>
<li><p>最後就是第四層找一個</p>
</li>
</ol>
<img src="/Users/joe/Library/Application Support/typora-user-images/image-20200924222442700.png" alt="image-20200924222442700" style="zoom:50%;" />



<h2 id="Maximum-Product-Subarray"><a href="#Maximum-Product-Subarray" class="headerlink" title="Maximum Product Subarray"></a>Maximum Product Subarray</h2><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gj38ydsqp5j312a0eqjzf.jpg" alt="image-20200925220522498" style="zoom:50%;" />

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/16/Java/2019-09-18-Java%20Concurrency%20-%20Thread%20pool/">Java/2019-09-18-Java Concurrency - Thread pool</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-16</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span><div class="content"><h1 id="Java-Concurrency-線程池原理剖析"><a href="#Java-Concurrency-線程池原理剖析" class="headerlink" title="Java Concurrency 線程池原理剖析"></a>Java Concurrency 線程池原理剖析</h1><ol>
<li>為什麼用線程池？優勢是什麼？</li>
<li>線程池如何使用？</li>
<li>線程池有哪些重要的參數？</li>
<li>線程池底層的工作原理？</li>
<li>線程池工作中用過嗎？生產上如何合理配置參數？</li>
</ol>
<h3 id="Q-什麼是線程池？"><a href="#Q-什麼是線程池？" class="headerlink" title="Q: 什麼是線程池？"></a>Q: 什麼是線程池？</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv27v5cqdj31d00l8129.jpg" alt="image-20200918200748942"></p>
<h3 id="Q-為什麼使用線程池？"><a href="#Q-為什麼使用線程池？" class="headerlink" title="Q: 為什麼使用線程池？"></a>Q: 為什麼使用線程池？</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv28klsm1j31j40oye82.jpg" alt="image-20200918200827930"></p>
<ul>
<li>車管所對車作統一管理、上牌，上下班限號限行，如果沒有這套管理任車輛隨便走大家會水洩不通。</li>
</ul>
<h3 id="Q-線程池的優勢"><a href="#Q-線程池的優勢" class="headerlink" title="Q: 線程池的優勢"></a>Q: 線程池的優勢</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv29ae47hj31ia0hwwpt.jpg" alt="image-20200918200913889"></p>
<ul>
<li><p>我在創建、銷毀線程都是需要時間和資源的。</p>
<p>希望可以直接把時間花在執行的時間</p>
</li>
<li><p>不需要線程的創建時間的等待，可以直接把線程拉出來用了就對</p>
</li>
<li><p>方便管控很重要！因為JAVA跑時是要內存，很多個線程加在一起容易OOM溢出，也讓響應速度慢了</p>
</li>
</ul>
<h3 id="Q-線程池的核心參數"><a href="#Q-線程池的核心參數" class="headerlink" title="Q: 線程池的核心參數"></a>Q: 線程池的核心參數</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2cl8hcij318c0nc7ez.jpg" alt="image-20200918201224070"></p>
<ul>
<li>7個全都要記！</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2dar15cj31kk0q2h5v.jpg" alt="image-20200918201305020"></p>
<ul>
<li>線程工廠後面會有例子</li>
<li>拒絕策略很特別！</li>
</ul>
<h5 id="JDK源碼"><a href="#JDK源碼" class="headerlink" title="JDK源碼"></a>JDK源碼</h5><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2gdt8hzj30u00x6wz7.jpg" alt="image-20200918201600363"></p>
<h3 id="Q-線程池的工作流程"><a href="#Q-線程池的工作流程" class="headerlink" title="Q: 線程池的工作流程"></a>Q: 線程池的工作流程</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2hmjki1j31jg0n2dv4.jpg" alt="image-20200918201714577"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2i0k4q3j31eq0n4qci.jpg" alt="image-20200918201737476"></p>
<ul>
<li>線程要是飽和，就要使用任務拒絕策略</li>
</ul>
<h3 id="Q-線程池的拒絕策略"><a href="#Q-線程池的拒絕策略" class="headerlink" title="Q: 線程池的拒絕策略"></a>Q: 線程池的拒絕策略</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2k7e7ylj31f60pqala.jpg" alt="image-20200918201943676"></p>
<ul>
<li>要看業務去選擇</li>
</ul>
<h3 id="Q-如何合理设置線程池參數"><a href="#Q-如何合理设置線程池參數" class="headerlink" title="Q: 如何合理设置線程池參數"></a>Q: 如何合理设置線程池參數</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2li0mkvj31gq0d4n2a.jpg" alt="image-20200918202058230"></p>
<ul>
<li>一直不放掉，對系統也不好</li>
</ul>
<h5 id="★原則★"><a href="#★原則★" class="headerlink" title="★原則★"></a>★原則★</h5><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2m6lo65j31iy0nsww5.jpg" alt="image-20200918202136955"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2rsxdnzj30xc0tcwpw.jpg" alt="image-20200918202701617"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2t9jb54j30wm0to7ga.jpg" alt="image-20200918202826058"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2uriudlj31bu0dg106.jpg" alt="image-20200918202952663"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2vd08q9j30wg0j8gu5.jpg" alt="image-20200918203026969"></p>
<p>Then OK! 10任務</p>
<h3 id="拓展點：Java內置線程池"><a href="#拓展點：Java內置線程池" class="headerlink" title="拓展點：Java內置線程池"></a>拓展點：Java內置線程池</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2xhnundj31jw0ownaw.jpg" alt="image-20200918203229606"></p>
<h5 id="不建議用Executor"><a href="#不建議用Executor" class="headerlink" title="不建議用Executor"></a>不建議用Executor</h5><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv2xudrzjj31iu0i0tiv.jpg" alt="image-20200918203250443"></p>
<h3 id="Q-跟kafka、rabbitMQ差別？"><a href="#Q-跟kafka、rabbitMQ差別？" class="headerlink" title="Q: 跟kafka、rabbitMQ差別？"></a>Q: 跟kafka、rabbitMQ差別？</h3><ul>
<li><p>不是線程池的工作，這邊是自定義任務</p>
</li>
<li><p>我創建線程池</p>
</li>
<li><p>下單，建訂單就不能拋了</p>
</li>
</ul>
<h3 id="Q-怎知道機器可以開到幾個thread"><a href="#Q-怎知道機器可以開到幾個thread" class="headerlink" title="Q: 怎知道機器可以開到幾個thread?"></a>Q: 怎知道機器可以開到幾個thread?</h3><ul>
<li>雲機器可以配置的？會有一輪壓測，不斷把系統用非常大的QPS去壓，對機器作監控去把線程池一點點一點點地調大</li>
</ul>
<h3 id="Q-除了JDK線程池，有什麼第三方線程池實現"><a href="#Q-除了JDK線程池，有什麼第三方線程池實現" class="headerlink" title="Q: 除了JDK線程池，有什麼第三方線程池實現?"></a>Q: 除了JDK線程池，有什麼第三方線程池實現?</h3><ul>
<li><p>RPC框架也有自己的線程池</p>
</li>
<li><p>阿里的double一定有他的線程池的，他的rabbitMQ也是有線程池的</p>
</li>
</ul>
<h3 id="Q-Jmeter-性能測試步驟"><a href="#Q-Jmeter-性能測試步驟" class="headerlink" title="Q: Jmeter 性能測試步驟"></a>Q: Jmeter 性能測試步驟</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv379irz9j316c0t2ndf.jpg" alt="image-20200918204152805"></p>
<h3 id="Q-你心裡的題目呢？"><a href="#Q-你心裡的題目呢？" class="headerlink" title="Q: 你心裡的題目呢？"></a>Q: 你心裡的題目呢？</h3><p>最长回文子串</p>
<p>动规 - 股票</p>
<p>k个一组链表反转!!!</p>
<p>数组中第k大的元素</p>
<p>git项目把公司出现的面试题作汇总</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1giv3bwtkg5j316e0syn5e.jpg" alt="image-20200918204620820"></p>
<ul>
<li><a href="https://github.com/afatcoder/LeetcodeTop/blob/master/baidu/backend.md" target="_blank" rel="noopener">https://github.com/afatcoder/LeetcodeTop/blob/master/baidu/backend.md</a></li>
</ul>
<h5 id="環境"><a href="#環境" class="headerlink" title="環境"></a>環境</h5><ul>
<li><p>spring mybatis redis mq mysql 設計模式</p>
<p>spring mybatis redis mq mysql 設計模式</p>
<p>spring boot, tomcat</p>
<p>Java體系相關的中間件，Java的高級特性，spring必須會，spring Cloud springboot tomcat</p>
<p>每個工作會有他自己技術棧，阿里、美團、拼多多、JD都是java寫的</p>
<p>go也是跟java比較像</p>
</li>
</ul>
<p>  java的問題: 相對實現重，而且基於JVM；阿里</p>
<p>  go: 天生可高併發；開發快，小</p>
<ul>
<li><p>Java EE 原聲的那一套，什麼 JSF，是不是完全不用學了</p>
</li>
<li><ul>
<li>springcloud rocketMQ sentinel Redis MySQL</li>
</ul>
</li>
</ul>
<ul>
<li><p>SSH 現在還考的多嗎</p>
</li>
<li><ul>
<li>小公司會再問，CRUD、SSM</li>
</ul>
</li>
<li><p>restful vs rpc?</p>
</li>
<li><ul>
<li><p>自己可以先RPC demo級別的，自己實現一個就ok</p>
</li>
<li><ul>
<li><p>重要的是：</p>
</li>
<li><ul>
<li>rpc線程池</li>
<li>serialization</li>
<li>異常處理</li>
</ul>
</li>
</ul>
</li>
<li><p>去看dubbo ， HSF，spring Cloud吧</p>
</li>
</ul>
</li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/15/Concurrency/Multi-threading%201%20--%20Huahua/">Concurrency/Multi-threading 1 -- Huahua</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-15</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Concurrency/">Concurrency</a></span><div class="content"><p>主要使用mutex在解決這些問題</p>
<h2 id="1114-Print-in-Order"><a href="#1114-Print-in-Order" class="headerlink" title="1114. Print in Order"></a>1114. Print in Order</h2><p>一個class有三個function</p>
<h2 id="1115"><a href="#1115" class="headerlink" title="1115."></a>1115.</h2><h2 id="1116"><a href="#1116" class="headerlink" title="1116."></a>1116.</h2></div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/41/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/41/">41</a><span class="page-number current">42</span><a class="page-number" href="/page/43/">43</a><span class="space">&hellip;</span><a class="page-number" href="/page/60/">60</a><a class="extend next" rel="next" href="/page/43/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By Joe Huang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>