<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="Joe Huang"><meta name="copyright" content="Joe Huang"><title>Awaken Desparado</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.1.1"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Joe Huang</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">235</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">24</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">32</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Awaken Desparado</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Awaken Desparado</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/03/LC/2019-10-03-LC%2083%20Remove%20Duplicates%20from%20Sorted%20List/">LC/2019-10-03-LC 83 Remove Duplicates from Sorted List</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-03</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Michelle/">Michelle</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteDuplicates</span><span class="params">(self, head: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">        curr = head</span><br><span class="line">        <span class="comment"># val = head.val</span></span><br><span class="line">        <span class="keyword">while</span> curr:</span><br><span class="line">            val = curr.val</span><br><span class="line">            <span class="keyword">while</span> curr.next <span class="keyword">and</span> curr.next.val == val:</span><br><span class="line">                curr.next = curr.next.next</span><br><span class="line">            curr = curr.next</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/03/LC/2019-10-03-LC%2088%20Merge%20Sorted%20Array/">LC/2019-10-03-LC 88 Merge Sorted Array</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-03</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Michelle/">Michelle</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge</span><span class="params">(self, nums1: List[int], m: int, nums2: List[int], n: int)</span> -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        Do not return anything, modify nums1 in-place instead.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        tail = m + n - <span class="number">1</span></span><br><span class="line">        l1, l2 = m, n</span><br><span class="line">        <span class="comment"># left1, left2 = m, n</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> l1 <span class="keyword">and</span> l2:</span><br><span class="line">            <span class="keyword">if</span> nums1[l1<span class="number">-1</span>] &lt;= nums2[l2<span class="number">-1</span>]:</span><br><span class="line">                nums1[tail] = nums2[l2<span class="number">-1</span>]</span><br><span class="line">                l2 -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                nums1[tail] = nums1[l1<span class="number">-1</span>]</span><br><span class="line">                </span><br><span class="line">                l1 -= <span class="number">1</span></span><br><span class="line">            <span class="comment"># print(nums1)</span></span><br><span class="line">            <span class="comment"># print(l2)</span></span><br><span class="line">            tail -= <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">if</span> l1:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> l2 &gt; <span class="number">0</span>:</span><br><span class="line">            nums1[:l2] = nums2[:l2]</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-F-set1_121_238/">LC/2019-10-02-F-set1_121_238</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> prices: </span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    buy = prices[<span class="number">0</span>]</span><br><span class="line">    profit = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> prices:</span><br><span class="line">        <span class="keyword">if</span> p &gt; buy:</span><br><span class="line">            profit = max(profit, p - buy)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            buy = p</span><br><span class="line">    <span class="keyword">return</span> profit</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span><span class="params">(self, prices: List[int])</span> -&gt; int:</span></span><br><span class="line">    profit = <span class="number">0</span></span><br><span class="line">    cost = float(<span class="string">'inf'</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> price <span class="keyword">in</span> prices:</span><br><span class="line">        cost = min(cost, price)    </span><br><span class="line">        profit = max(profit, price - cost)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> profit</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7m2i41qnvj30v60acabr.jpg" alt="image-20191002131453535"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">productExceptSelf</span><span class="params">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        result = []</span><br><span class="line">        tmp = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            result.append(tmp)</span><br><span class="line">            tmp *= nums[i]</span><br><span class="line">            </span><br><span class="line">        prd = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            result[i] *= prd</span><br><span class="line">            prd *= nums[i]</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">productExceptSelf</span><span class="params">(self, nums: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        </span><br><span class="line">        unity = <span class="number">1</span></span><br><span class="line">        l = [<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums))]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> idx <span class="keyword">in</span> range(<span class="number">1</span>, len(l)):</span><br><span class="line">            l[idx] = nums[idx<span class="number">-1</span>] * l[idx<span class="number">-1</span>]</span><br><span class="line">        </span><br><span class="line">        r = [<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums))]</span><br><span class="line">        <span class="keyword">for</span> idx <span class="keyword">in</span> range(len(l)<span class="number">-2</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">            r[idx] = nums[idx+<span class="number">1</span>] * r[idx+<span class="number">1</span>]</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> [a*b <span class="keyword">for</span> a,b <span class="keyword">in</span> zip(l,r)]</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7js5q9h3kj30r20fw411.jpg" alt="image-20191002131422727"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-F-set1_21_325/">LC/2019-10-02-F-set1_21_325</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeTwoLists</span><span class="params">(self, l1: ListNode, l2: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">        <span class="comment"># Null checking</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l1:</span><br><span class="line">            <span class="keyword">return</span> l2</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l2: </span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        </span><br><span class="line">        curr = <span class="literal">None</span></span><br><span class="line">        result = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> l1 <span class="keyword">and</span> l2:</span><br><span class="line">            <span class="keyword">if</span> l1.val &lt;= l2.val:</span><br><span class="line">                tmp = ListNode(l1.val)</span><br><span class="line">                l1 = l1.next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                tmp = ListNode(l2.val)</span><br><span class="line">                l2 = l2.next</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> result:</span><br><span class="line">                curr = tmp</span><br><span class="line">                result = curr</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                curr.next = tmp</span><br><span class="line">                curr = curr.next</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l1:</span><br><span class="line">            curr.next = l2</span><br><span class="line">        <span class="keyword">elif</span> <span class="keyword">not</span> l2:</span><br><span class="line">            curr.next = l1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">pass</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxSubArrayLen</span><span class="params">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    m = &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">        total += nums[i]</span><br><span class="line">        <span class="keyword">if</span> total == k:</span><br><span class="line">            res = max(res, i+<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">elif</span> total-k <span class="keyword">in</span> m:</span><br><span class="line">            res = max(res, i-m[total-k])</span><br><span class="line">        <span class="keyword">if</span> total <span class="keyword">not</span> <span class="keyword">in</span> m:</span><br><span class="line">            m[total] = i</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7jvasx1tdj30w60aoq4m.jpg" alt="image-20191002150308053"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-F-set1_977_791/">LC/2019-10-02-F-set1_977_791</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortedSquares</span><span class="params">(self, A: List[int])</span> -&gt; List[int]:</span></span><br><span class="line">        n = len(A)</span><br><span class="line">        out = []</span><br><span class="line">        <span class="keyword">for</span> idx <span class="keyword">in</span> range(n):</span><br><span class="line">            tmp = A[idx] * A[idx]</span><br><span class="line">            out.append(tmp)</span><br><span class="line">        out.sort()</span><br><span class="line">        <span class="keyword">return</span> out</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">customSortString</span><span class="params">(self, S: str, T: str)</span> -&gt; str:</span></span><br><span class="line">    lookup = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> T:</span><br><span class="line">        lookup[c] = lookup.get(c, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    result = <span class="string">''</span></span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> S:</span><br><span class="line">        <span class="keyword">if</span> c <span class="keyword">in</span> lookup:</span><br><span class="line">            result += c * lookup[c] </span><br><span class="line">            <span class="keyword">del</span> lookup[c]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> lookup:</span><br><span class="line">        result += c * lookup[c]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7jpfk701uj30q00h4di6.jpg" alt="image-20191002114007993"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-F_set2%20111%20mindepthBT,%20398/">LC/2019-10-02-F_set2 111 mindepthBT, 398</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intersect</span><span class="params">(self, nums1: List[int], nums2: List[int])</span> -&gt; List[int]:</span></span><br><span class="line"><span class="comment">#         if len(nums1) &lt;= len(nums2):</span></span><br><span class="line"><span class="comment">#             l1, l2 = nums1, nums2</span></span><br><span class="line"><span class="comment">#         else:</span></span><br><span class="line"><span class="comment">#             l1, l2 = nums2, nums1</span></span><br><span class="line">        </span><br><span class="line">        counts = collections.Counter(nums1)</span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums2:</span><br><span class="line">            <span class="keyword">if</span> counts[num] &gt; <span class="number">0</span>:</span><br><span class="line">                res += num,</span><br><span class="line">                counts[num] -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>


<p><a href="https://leetcode.com/articles/longest-substring-with-at-most-k-distinct-characte/" target="_blank" rel="noopener">https://leetcode.com/articles/longest-substring-with-at-most-k-distinct-characte/</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstringKDistinct</span><span class="params">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class="line">    dic = &#123;&#125;</span><br><span class="line">    start_idx, l = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s):</span><br><span class="line">        dic[c] = i</span><br><span class="line">        <span class="keyword">if</span> len(dic) &gt; k:</span><br><span class="line">            start_idx = min(dic.values())</span><br><span class="line">            <span class="keyword">del</span> dic[s[start_idx]]</span><br><span class="line">            start_idx += <span class="number">1</span></span><br><span class="line">        l = max(i - start_idx + <span class="number">1</span>, l)</span><br><span class="line">    <span class="keyword">return</span> l</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-F_set2%20560_314/">LC/2019-10-02-F_set2 560_314</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intersect</span><span class="params">(self, nums1: List[int], nums2: List[int])</span> -&gt; List[int]:</span></span><br><span class="line"><span class="comment">#         if len(nums1) &lt;= len(nums2):</span></span><br><span class="line"><span class="comment">#             l1, l2 = nums1, nums2</span></span><br><span class="line"><span class="comment">#         else:</span></span><br><span class="line"><span class="comment">#             l1, l2 = nums2, nums1</span></span><br><span class="line">        </span><br><span class="line">        counts = collections.Counter(nums1)</span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums2:</span><br><span class="line">            <span class="keyword">if</span> counts[num] &gt; <span class="number">0</span>:</span><br><span class="line">                res += num,</span><br><span class="line">                counts[num] -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>


<p><a href="https://leetcode.com/articles/longest-substring-with-at-most-k-distinct-characte/" target="_blank" rel="noopener">https://leetcode.com/articles/longest-substring-with-at-most-k-distinct-characte/</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstringKDistinct</span><span class="params">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class="line">    dic = &#123;&#125;</span><br><span class="line">    start_idx, l = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s):</span><br><span class="line">        dic[c] = i</span><br><span class="line">        <span class="keyword">if</span> len(dic) &gt; k:</span><br><span class="line">            start_idx = min(dic.values())</span><br><span class="line">            <span class="keyword">del</span> dic[s[start_idx]]</span><br><span class="line">            start_idx += <span class="number">1</span></span><br><span class="line">        l = max(i - start_idx + <span class="number">1</span>, l)</span><br><span class="line">    <span class="keyword">return</span> l</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-F_set2%20125%20680%20282/">LC/2019-10-02-F_set2 125 680 282</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intersect</span><span class="params">(self, nums1: List[int], nums2: List[int])</span> -&gt; List[int]:</span></span><br><span class="line"><span class="comment">#         if len(nums1) &lt;= len(nums2):</span></span><br><span class="line"><span class="comment">#             l1, l2 = nums1, nums2</span></span><br><span class="line"><span class="comment">#         else:</span></span><br><span class="line"><span class="comment">#             l1, l2 = nums2, nums1</span></span><br><span class="line">        </span><br><span class="line">        counts = collections.Counter(nums1)</span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums2:</span><br><span class="line">            <span class="keyword">if</span> counts[num] &gt; <span class="number">0</span>:</span><br><span class="line">                res += num,</span><br><span class="line">                counts[num] -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>


<p><a href="https://leetcode.com/articles/longest-substring-with-at-most-k-distinct-characte/" target="_blank" rel="noopener">https://leetcode.com/articles/longest-substring-with-at-most-k-distinct-characte/</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstringKDistinct</span><span class="params">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class="line">    dic = &#123;&#125;</span><br><span class="line">    start_idx, l = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s):</span><br><span class="line">        dic[c] = i</span><br><span class="line">        <span class="keyword">if</span> len(dic) &gt; k:</span><br><span class="line">            start_idx = min(dic.values())</span><br><span class="line">            <span class="keyword">del</span> dic[s[start_idx]]</span><br><span class="line">            start_idx += <span class="number">1</span></span><br><span class="line">        l = max(i - start_idx + <span class="number">1</span>, l)</span><br><span class="line">    <span class="keyword">return</span> l</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-F_set2_350_340/">LC/2019-10-02-F_set2_350_340</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">intersect</span><span class="params">(self, nums1: List[int], nums2: List[int])</span> -&gt; List[int]:</span></span><br><span class="line"><span class="comment">#         if len(nums1) &lt;= len(nums2):</span></span><br><span class="line"><span class="comment">#             l1, l2 = nums1, nums2</span></span><br><span class="line"><span class="comment">#         else:</span></span><br><span class="line"><span class="comment">#             l1, l2 = nums2, nums1</span></span><br><span class="line">        </span><br><span class="line">        counts = collections.Counter(nums1)</span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums2:</span><br><span class="line">            <span class="keyword">if</span> counts[num] &gt; <span class="number">0</span>:</span><br><span class="line">                res += num,</span><br><span class="line">                counts[num] -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>


<p><a href="https://leetcode.com/articles/longest-substring-with-at-most-k-distinct-characte/" target="_blank" rel="noopener">https://leetcode.com/articles/longest-substring-with-at-most-k-distinct-characte/</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstringKDistinct</span><span class="params">(self, s: str, k: int)</span> -&gt; int:</span></span><br><span class="line">    dic = &#123;&#125;</span><br><span class="line">    start_idx, l = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i, c <span class="keyword">in</span> enumerate(s):</span><br><span class="line">        dic[c] = i</span><br><span class="line">        <span class="keyword">if</span> len(dic) &gt; k:</span><br><span class="line">            start_idx = min(dic.values())</span><br><span class="line">            <span class="keyword">del</span> dic[s[start_idx]]</span><br><span class="line">            start_idx += <span class="number">1</span></span><br><span class="line">        l = max(i - start_idx + <span class="number">1</span>, l)</span><br><span class="line">    <span class="keyword">return</span> l</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-LC%2022%20Generate%20Parentheses/">LC/2019-10-02-LC 22 Generate Parentheses</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Michelle/">Michelle</a></span><div class="content"><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7k6swbmqrj30li0e4q4e.jpg" alt="image-20191002214108136"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">generateParenthesis</span><span class="params">(self, n: int)</span> -&gt; List[str]:</span></span><br><span class="line">        <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        </span><br><span class="line">        result = []</span><br><span class="line">        self.helper(n, n, <span class="string">''</span>, result)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">helper</span><span class="params">(self, l, r, item, result)</span>:</span></span><br><span class="line">        <span class="comment"># (()))( not OK</span></span><br><span class="line">        <span class="keyword">if</span> r &lt; l: <span class="comment">#remaining r should &gt; l</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> l == <span class="number">0</span> <span class="keyword">and</span> r == <span class="number">0</span>:</span><br><span class="line">            result.append(item)</span><br><span class="line">        <span class="keyword">if</span> l &gt; <span class="number">0</span>:</span><br><span class="line">            self.helper(l<span class="number">-1</span>, r, item+<span class="string">'('</span>, result)</span><br><span class="line">        <span class="keyword">if</span> r &gt; <span class="number">0</span>:</span><br><span class="line">            self.helper(l, r<span class="number">-1</span>, item+<span class="string">')'</span>, result)</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-LC%2028%20strStr()/">LC/2019-10-02-LC 28 strStr()</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Michelle/">Michelle</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">strStr</span><span class="params">(self, haystack: str, needle: str)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> needle:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># if l1 &lt; l2:</span></span><br><span class="line">            <span class="comment"># return -1</span></span><br><span class="line">        </span><br><span class="line">        lh = len(haystack)</span><br><span class="line">        ln = len(needle)</span><br><span class="line">        limit = lh - ln + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(limit):</span><br><span class="line">            <span class="keyword">if</span> haystack[i:i+ln] == needle:</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7k89mhmd8j30t00dw0uu.jpg" alt="image-20191002223147856"></p>
<p>KMP:<br><a href="https://www.zhihu.com/question/21923021" target="_blank" rel="noopener">https://www.zhihu.com/question/21923021</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-LC%2035%20Search%20Insert%20Position/">LC/2019-10-02-LC 35 Search Insert Position</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Michelle/">Michelle</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/ToFindBetter/">ToFindBetter</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">searchInsert</span><span class="params">(self, nums: List[int], target: int)</span> -&gt; int:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[i] == target:</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line">            <span class="keyword">elif</span> nums[i] &gt; target:</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line">            <span class="keyword">elif</span> i == len(nums) - <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> len(nums)</span><br></pre></td></tr></table></figure>



<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7k9xddqxsj30pu0dctah.jpg" alt="image-20191002232913393"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-LC%209%20Palindrome%20Number/">LC/2019-10-02-LC 9 Palindrome Number</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Michelle/">Michelle</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isPalindrome</span><span class="params">(self, x: int)</span> -&gt; bool:</span></span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        a = abs(x)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(a != <span class="number">0</span>):</span><br><span class="line">            tmp = a % <span class="number">10</span></span><br><span class="line">            num = num * <span class="number">10</span> + tmp</span><br><span class="line">            a = a // <span class="number">10</span></span><br><span class="line">            <span class="comment"># print(a)</span></span><br><span class="line">        <span class="keyword">if</span> x &gt;= <span class="number">0</span> <span class="keyword">and</span> x == num:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-LC%207%20reverse%20Int/">LC/2019-10-02-LC 7 reverse Int</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Michelle/">Michelle</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverse</span><span class="params">(self, x: int)</span> -&gt; int:</span></span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># return the abs value of a number </span></span><br><span class="line">        a = abs(x)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span>(a != <span class="number">0</span>):</span><br><span class="line">            <span class="comment"># 123</span></span><br><span class="line">            <span class="comment"># a=123</span></span><br><span class="line">            <span class="comment"># num=0</span></span><br><span class="line">            <span class="comment"># First Ite</span></span><br><span class="line">            <span class="comment"># a = 12</span></span><br><span class="line">            <span class="comment"># num = 3</span></span><br><span class="line">            <span class="comment"># Second Ite</span></span><br><span class="line">            <span class="comment"># a = 1</span></span><br><span class="line">            <span class="comment"># num = 32</span></span><br><span class="line">            <span class="comment"># Third Ite</span></span><br><span class="line">            <span class="comment"># a = 0</span></span><br><span class="line">            <span class="comment"># num = 321</span></span><br><span class="line">            tmp = a % <span class="number">10</span></span><br><span class="line">            print(<span class="string">'a'</span>, a)</span><br><span class="line">            print(<span class="string">'tmp'</span>, tmp)</span><br><span class="line">            num = num*<span class="number">10</span> +tmp</span><br><span class="line">            print(<span class="string">'num'</span>, num)</span><br><span class="line">            a = int(a/<span class="number">10</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> x &gt; <span class="number">0</span> <span class="keyword">and</span> num &lt; <span class="number">2147483647</span>:</span><br><span class="line">            <span class="keyword">return</span> num</span><br><span class="line">        <span class="keyword">elif</span> x &lt; <span class="number">0</span> <span class="keyword">and</span> num &lt;= <span class="number">2147483647</span>:</span><br><span class="line">            <span class="keyword">return</span> -num</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-LC%2046%20Permutation/">LC/2019-10-02-LC 46 Permutation</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Michelle/">Michelle</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/backtracking/">backtracking</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">permute</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(nums) &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> [nums]</span><br><span class="line">        </span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">for</span> i, num <span class="keyword">in</span> enumerate(nums):</span><br><span class="line">            n = nums[:i] + nums[i+<span class="number">1</span>:]</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> self.permute(n):</span><br><span class="line">                <span class="comment"># print(nums[i], j)</span></span><br><span class="line">                result.append([nums[i]] + j)</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>

<p><a href="https://www.geeksforgeeks.org/write-a-c-program-to-print-all-permutations-of-a-given-string/" target="_blank" rel="noopener">https://www.geeksforgeeks.org/write-a-c-program-to-print-all-permutations-of-a-given-string/</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">permute_dfs</span><span class="params">(self, path, nums, result)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(nums) == <span class="number">1</span>:</span><br><span class="line">            result.append(path+nums)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, len(nums)):</span><br><span class="line">                tmp_list = nums[:]</span><br><span class="line">                pop_out = tmp_list.pop(i)</span><br><span class="line">                self.permute_dfs(path+[pop_out], tmp_list, result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">permute</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: List[List[int]]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        result = []</span><br><span class="line">        self.permute_dfs([], nums, result)</span><br><span class="line">        <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>



<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7kvffagflj30pm0fg0us.jpg" alt="image-20191003115310184"></p>
<p>ref: <a href="https://www.youtube.com/watch?v=nrHTtjkYEyQ" target="_blank" rel="noopener">https://www.youtube.com/watch?v=nrHTtjkYEyQ</a></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7kssw1ayej31ic0mcdzm.jpg" alt="image-20191003102218161"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7ktpb6c1oj31d80n07km.jpg" alt="image-20191003105327148"></p>
<p>![image-20191003110018474](/Users/joe/Library/Application Support/typora-user-images/image-20191003110018474.png)</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7kttnsg14j31a40mqne7.jpg" alt="image-20191003105739813"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-LC-325%20max_sub_arr_len/">LC/2019-10-02-LC-325 max_sub_arr_len</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSubArrayLen</span><span class="params">(self, nums, k)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: list</span></span><br><span class="line"><span class="string">        :type k: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        pre_sum = [<span class="number">0</span>]+list(accumulate(nums))</span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(pre_sum)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i, len(pre_sum)):</span><br><span class="line">                <span class="keyword">if</span> pre_sum[j] - pre_sum[i] == k:</span><br><span class="line">                    res = max(res, j - i)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">obj = Solution()</span><br><span class="line">print(obj.maxSubArrayLen([<span class="number">1</span>, <span class="number">-1</span>, <span class="number">5</span>, <span class="number">-2</span>, <span class="number">3</span>], k = <span class="number">3</span>))</span><br><span class="line"><span class="comment"># https://blog.csdn.net/qq_17550379/article/details/86421075</span></span><br></pre></td></tr></table></figure>





<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxSubArrayLen</span><span class="params">(self, nums, k)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    :type nums: list</span></span><br><span class="line"><span class="string">    :type k: int</span></span><br><span class="line"><span class="string">    :rtype: int</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    pre_sum = list(accumulate(nums))</span><br><span class="line">    res, dic = <span class="number">0</span>, dict()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(pre_sum)):</span><br><span class="line">        <span class="keyword">if</span> pre_sum[i] == k:</span><br><span class="line">            res = i + <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> pre_sum[i] - k <span class="keyword">in</span> dic:</span><br><span class="line">            res = max(res, i - dic[pre_sum[i] - k])</span><br><span class="line">        <span class="keyword">if</span> pre_sum[i] <span class="keyword">not</span> <span class="keyword">in</span> dic:</span><br><span class="line">            dic[pre_sum[i]] = i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"> <span class="comment">#https://blog.csdn.net/qq_17550379/article/details/86421075</span></span><br></pre></td></tr></table></figure>

<p>O(n)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maxSubArrayLen</span><span class="params">(self, nums: List[int], k: int)</span> -&gt; int:</span></span><br><span class="line">    sum2idx = &#123; <span class="number">0</span>:<span class="number">-1</span> &#125;</span><br><span class="line">    res, sum = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i, n <span class="keyword">in</span> enumerate(nums):</span><br><span class="line">        sum += n</span><br><span class="line">        <span class="keyword">if</span> sum <span class="keyword">not</span> <span class="keyword">in</span> sum2idx: sum2idx[sum] = i</span><br><span class="line">        <span class="keyword">if</span> sum-k <span class="keyword">in</span> sum2idx: res = max(res, i-sum2idx[sum-k])</span><br><span class="line">    <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>





<ol start="560">
<li>Subarray Sum Equals K</li>
<li>Subarray Sums Divisible by K</li>
<li>Maximum Size Subarray Sum Equals k</li>
<li>Number of Submatrices That Sum to Target</li>
</ol>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/02/LC/2019-10-02-LC-53%20Maximum%20Subarray/">LC/2019-10-02-LC-53 Maximum Subarray</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSubArray</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">        max_sum = nums[<span class="number">0</span>]</span><br><span class="line">        tmp_sum = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(nums)):</span><br><span class="line">            tmp_sum = max(tmp_sum + nums[i], nums[i])</span><br><span class="line">            <span class="keyword">if</span> tmp_sum &gt; max_sum:</span><br><span class="line">                max_sum = tmp_sum</span><br><span class="line">        <span class="keyword">return</span> max_sum</span><br></pre></td></tr></table></figure>



<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7jwmw170hj30qy0em40z.jpg" alt="image-20191002154920066"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/01/LC/2019-10-01-F-set1_13_2/">LC/2019-10-01-F-set1_13_2</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-01</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">   <span class="function"><span class="keyword">def</span> <span class="title">romanToInt</span><span class="params">(self, s: str)</span> -&gt; int:</span></span><br><span class="line">   <span class="comment"># check input</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">		<span class="comment"># build a symbol:value dict</span></span><br><span class="line">    d = &#123;<span class="string">'I'</span>:<span class="number">1</span>, <span class="string">'V'</span>:<span class="number">5</span>, <span class="string">'X'</span>:<span class="number">10</span>, <span class="string">'L'</span>:<span class="number">50</span>, <span class="string">'C'</span>:<span class="number">100</span>, <span class="string">'D'</span>:<span class="number">500</span>, <span class="string">'M'</span>:<span class="number">1000</span>&#125;</span><br><span class="line">    n = len(s)</span><br><span class="line">    </span><br><span class="line">    result = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># iterate characters in s</span></span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> range(n<span class="number">-1</span>):</span><br><span class="line">        char_curr = s[idx] <span class="comment"># e.g. I in IX</span></span><br><span class="line">        char_next = s[idx+<span class="number">1</span>] <span class="comment"># OOR..</span></span><br><span class="line">        <span class="keyword">if</span> d[char_curr] &lt; d[char_next]:</span><br><span class="line">            result = result - d[char_curr]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result = result + d[char_curr]</span><br><span class="line">    </span><br><span class="line">    result = result + d[s[<span class="number">-1</span>]]</span><br><span class="line">    <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>



<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addTwoNumbers</span><span class="params">(self, l1: ListNode, l2: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l1:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l2: </span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        </span><br><span class="line">        result = ListNode(<span class="number">0</span>)</span><br><span class="line">        curr = result</span><br><span class="line">        total = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> l1 <span class="keyword">or</span> l2 <span class="keyword">or</span> total:</span><br><span class="line">            <span class="keyword">if</span> l1:</span><br><span class="line">                total += l1.val</span><br><span class="line">                l1 = l1.next</span><br><span class="line">            <span class="keyword">if</span> l2:</span><br><span class="line">                total += l2.val</span><br><span class="line">                l2 = l2.next</span><br><span class="line">            out = (total) % <span class="number">10</span></span><br><span class="line">            curr.next = ListNode(out)</span><br><span class="line">            curr = curr.next</span><br><span class="line">            </span><br><span class="line">            carry = total // <span class="number">10</span></span><br><span class="line">            total = carry</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result.next</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addTwoNumbers</span><span class="params">(self, l1: ListNode, l2: ListNode)</span> -&gt; ListNode:</span></span><br><span class="line">        <span class="comment"># check input</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l1:</span><br><span class="line">            <span class="keyword">return</span> l2</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> l2: </span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        </span><br><span class="line">        dummy = ListNode(<span class="number">0</span>)</span><br><span class="line">        cur = dummy</span><br><span class="line">        carry = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> l1 <span class="keyword">or</span> l2 :</span><br><span class="line">            <span class="keyword">if</span> l1:</span><br><span class="line">                carry += l1.val</span><br><span class="line">                l1 = l1.next</span><br><span class="line">            <span class="keyword">if</span> l2:</span><br><span class="line">                carry += l2.val</span><br><span class="line">                l2 = l2.next</span><br><span class="line">                </span><br><span class="line">            cur.next = ListNode(carry%<span class="number">10</span>)</span><br><span class="line">            cur = cur.next</span><br><span class="line">            carry //= <span class="number">10</span></span><br><span class="line">        <span class="keyword">return</span> dummy.next</span><br></pre></td></tr></table></figure>

<p>    </p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/01/LC/2019-10-01-LC-20%20Valid%20Parentheses/">LC/2019-10-01-LC-20 Valid Parentheses</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-01</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValid</span><span class="params">(self, s: str)</span> -&gt; bool:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> str:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        stack = []</span><br><span class="line">        lookup = &#123;<span class="string">'('</span>:<span class="string">')'</span>, <span class="string">'&#123;'</span>:<span class="string">'&#125;'</span>, <span class="string">'['</span>:<span class="string">']'</span>&#125;</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s: <span class="comment"># c: (,  s: ()[]&#123;&#125;</span></span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">in</span> lookup:</span><br><span class="line">                stack.append(c)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> stack :  <span class="comment"># len(stack) == 0, for "]" case</span></span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">if</span> c != lookup[stack.pop()]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="comment"># return True  </span></span><br><span class="line">        <span class="keyword">return</span> len(stack) == <span class="number">0</span></span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/10/01/LC/2019-10-01-LC-26%20rm%20duplicated%20from%20sorted%20array/">LC/2019-10-01-LC-26 rm duplicated from sorted array</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-10-01</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/F/">F</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">removeDuplicates</span><span class="params">(self, nums: List[int])</span> -&gt; int:</span></span><br><span class="line">    curr = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">        <span class="comment"># if nums[curr] == nums[idx]:</span></span><br><span class="line">            <span class="comment"># curr += 1</span></span><br><span class="line">        <span class="comment"># else:</span></span><br><span class="line">        <span class="keyword">if</span> nums[curr] != nums[idx]:</span><br><span class="line">            curr += <span class="number">1</span></span><br><span class="line">            nums[curr] = nums[idx]</span><br><span class="line">            </span><br><span class="line">    nums = nums[:curr+<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> len(nums)</span><br></pre></td></tr></table></figure>


<p>                </p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7j67ec3ozj30qe0meq60.jpg" alt="image-20191002003507533"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/30/LC/2019-09-30-DP-Review/">LC/2019-09-30-DP-Review</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-30</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/LC-DP/">LC-DP</a></span><div class="content"><h3 id="Requirements"><a href="#Requirements" class="headerlink" title="Requirements"></a>Requirements</h3><h4 id="Optimal-substructures"><a href="#Optimal-substructures" class="headerlink" title="Optimal substructures"></a>Optimal substructures</h4><p>can be solved optimally by breaking it into sub-problems, recursively solved by optimal solutions</p>
<h4 id="Overlapping-subproblems"><a href="#Overlapping-subproblems" class="headerlink" title="Overlapping subproblems"></a>Overlapping subproblems</h4><p>Also, reduce time complexity, Exp-&gt;Polynomial</p>
<h4 id="No-affect-effect"><a href="#No-affect-effect" class="headerlink" title="No-affect effect"></a>No-affect effect</h4><h3 id="Top-down"><a href="#Top-down" class="headerlink" title="Top-down"></a>Top-down</h3><p>recursion with memorization</p>
<h3 id="Bottom-up"><a href="#Bottom-up" class="headerlink" title="Bottom-up"></a>Bottom-up</h3><p>DP</p>
<h3 id="Fibonacci-sequences"><a href="#Fibonacci-sequences" class="headerlink" title="Fibonacci sequences"></a>Fibonacci sequences</h3><p>Space complexity</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7htmrv95xj31f40lcnas.jpg" alt="image-20190930203432556"></p>
<p>Time complexity</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7httfazk1j31di0ju167.jpg" alt="image-20190930204058832"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7htucrs4pj31de0ka13s.jpg" alt="image-20190930204152060"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7hu1oj6auj31ac0ky12t.jpg" alt="image-20190930204854218"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7hu8bpp4lj31c40l6gv9.jpg" alt="image-20190930205518456"></p>
<h3 id="Complexity-Arrangement"><a href="#Complexity-Arrangement" class="headerlink" title="Complexity Arrangement"></a>Complexity Arrangement</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7hujtc3e8j30t00e00yq.jpg" alt="image-20190930210619897"></p>
<p>ref: <a href="https://zxi.mytechroad.com/blog/dynamic-programming/leetcode-dp-summary/" target="_blank" rel="noopener">https://zxi.mytechroad.com/blog/dynamic-programming/leetcode-dp-summary/</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/30/LC/2019-09-30-LC%2070%20Climbing%20Stairs/">LC/2019-09-30-LC 70 Climbing Stairs</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-30</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/LC-DP/">LC-DP</a></span><div class="content"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(n)</span>:</span></span><br><span class="line">	dp = [<span class="number">-1</span> <span class="keyword">for</span> i <span class="keyword">in</span> range(n+<span class="number">1</span>)]</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n+<span class="number">1</span>):</span><br><span class="line">		dp[i] = dp[i<span class="number">-1</span>] + dp[i<span class="number">-2</span>]</span><br><span class="line">	<span class="keyword">return</span> dp[n]</span><br></pre></td></tr></table></figure>

<p>O(n) , O(n)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(n)</span>:</span></span><br><span class="line">  dp1, dp2 = <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, n+<span class="number">1</span>):</span><br><span class="line">    dp2, dp1 = dp1 + dp2, dp2</span><br><span class="line">   <span class="keyword">return</span> dp2</span><br></pre></td></tr></table></figure>

<p>O(n) , O(1)</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/30/LC/2019-09-30-LC%2062&amp;63%20Unique%20Paths%20I%20&amp;%20%E2%85%A1/">LC/2019-09-30-LC 62&amp;63 Unique Paths I &amp; </a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-30</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/LC-DP/">LC-DP</a></span><div class="content"><p>1 state variables</p>
<p>2 init</p>
<table>
<thead>
<tr>
<th>1</th>
<th>1</th>
<th>1</th>
<th>1</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>1</td>
<td></td>
<td>n+m</td>
<td></td>
</tr>
<tr>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>3 equation<br>$$<br>[i][j] = [i-1][j] + [i][j-1]<br>$$<br>4 result</p>
<h3 id="LC-62"><a href="#LC-62" class="headerlink" title="LC 62."></a>LC 62.</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y)</span>:</span></span><br><span class="line">  dp = [[<span class="number">0</span>]*(x+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(y+<span class="number">1</span>)] <span class="comment">## take out of board into consideration as 0</span></span><br><span class="line">  dp[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, y+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, x+<span class="number">1</span>):</span><br><span class="line">      dp[i][j] = dp[i<span class="number">-1</span>][j] + dp[i][j<span class="number">-1</span>]</span><br><span class="line">  <span class="keyword">return</span> dp[y][x]</span><br></pre></td></tr></table></figure>



<h3 id="LC-63-w-Obstructions"><a href="#LC-63-w-Obstructions" class="headerlink" title="LC 63.w/ Obstructions"></a>LC 63.w/ Obstructions</h3><p></p>
<h4 id="Diff-at-Initialization"><a href="#Diff-at-Initialization" class="headerlink" title="Diff: at Initialization"></a>Diff: at Initialization</h4><table>
<thead>
<tr>
<th>1</th>
<th>1</th>
<th>0</th>
<th>0</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>0</td>
<td></td>
<td>0/1</td>
<td></td>
</tr>
<tr>
<td>0</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(x, y)</span>:</span></span><br><span class="line">  dp = [[<span class="number">0</span>]*(x+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> range(y+<span class="number">1</span>)] <span class="comment">## take out of board into consideration as 0</span></span><br><span class="line">  dp[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">  <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, y+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, x+<span class="number">1</span>):</span><br><span class="line">      <span class="keyword">if</span> obstacle[i][j] != <span class="number">1</span>:<span class="comment">### MAIN diff!</span></span><br><span class="line">      	dp[i][j] = dp[i<span class="number">-1</span>][j] + dp[i][j<span class="number">-1</span>]</span><br><span class="line">  <span class="keyword">return</span> dp[y][x]</span><br></pre></td></tr></table></figure>



<p>Ref:</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7hwe6l5e7j30hc0em78r.jpg" alt="image-20190930221007253"></p>
<h3 id="DP-vs--Memorization"><a href="#DP-vs--Memorization" class="headerlink" title="DP vs (Memorization)"></a>DP vs (Memorization)</h3><p>Memorization omits loop of varaibles.</p>
<p>Ref:</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7hvqn3ekxj30w40fadn0.jpg" alt="image-20190930214729348"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7hvp6agvkj30x20fo464.jpg" alt="image-20190930214602150"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7hvplk9kmj30uq0cq78y.jpg" alt="image-20190930214630627"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/30/LC/2019-09-30-LC-790%20Domino&amp;Tromino%20Tiling/">LC/2019-09-30-LC-790 Domino&amp;Tromino Tiling</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-30</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/LC-DP/">LC-DP</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/TODO/">TODO</a></span><div class="content"><p>Problem: 2x1 XX</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">numTilings</span><span class="params">(self, N)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type N: int</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> N &lt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        N += <span class="number">1</span></span><br><span class="line">        module = pow(<span class="number">10</span>, <span class="number">9</span>)+<span class="number">7</span>   </span><br><span class="line">        dp = [[<span class="number">0</span>, <span class="number">0</span>]*N <span class="keyword">for</span> _ <span class="keyword">in</span> range(N)]</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>], dp[<span class="number">1</span>][<span class="number">0</span>], dp[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">2</span>, N):</span><br><span class="line">            dp[i][<span class="number">0</span>] = dp[i<span class="number">-1</span>][<span class="number">0</span>] + dp[i<span class="number">-2</span>][<span class="number">0</span>] + dp[i<span class="number">-2</span>][<span class="number">1</span>]</span><br><span class="line">            dp[i][<span class="number">1</span>] = dp[i<span class="number">-1</span>][<span class="number">0</span>]*<span class="number">2</span> + dp[i<span class="number">-1</span>][<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> dp[N<span class="number">-1</span>][<span class="number">0</span>] % module</span><br></pre></td></tr></table></figure>

<p>Ref:</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7iv5nfkjdj31hl0u01ds.jpg" alt="image-20191001181252686"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7ivtlhge4j31580katgw.jpg" alt="image-20191001183553311"></p>
<p>Ref: <a href="https://www.jianshu.com/p/2104df9de5d5" target="_blank" rel="noopener">https://www.jianshu.com/p/2104df9de5d5</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/25/FFmpeg/2019-09-25-ffmepg-cmd-3-I-frame-extraction/">FFmpeg/2019-09-25-ffmepg-cmd-3-I-frame-extraction</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/ffmpeg/">ffmpeg</a></span><div class="content"><h3 id="I-frame-extraction"><a href="#I-frame-extraction" class="headerlink" title="I-frame extraction"></a>I-frame extraction</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i vn_hflip.mp4 -vf select=<span class="string">'eq(pict_type\,I)'</span> -vsync 2 -s 1280*720 -f image2 keyframe-%03d.jpeg</span><br></pre></td></tr></table></figure>

<p>-vf:selectpict_type:PICT_TYPE_I I<br>-vsync 2:<br>-f image2 name_%02d.jpeg:: %d  %0Nd</p>
<h3 id="Index-of-I-frame"><a href="#Index-of-I-frame" class="headerlink" title="Index of I-frame"></a>Index of I-frame</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -i vn_hflip.mp4 -select_streams v -show_frames -show_entries frame=pict_type -of csv | grep -n I | cut -d <span class="string">':'</span> -f 1 &gt; frame_index.txt</span><br></pre></td></tr></table></figure>



<h3 id="Relates-the-twos"><a href="#Relates-the-twos" class="headerlink" title="Relates the twos"></a>Relates the twos</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls -1 keyframe*.jpeg &gt; keyframe.txt</span><br><span class="line">paste frame_index.txt  keyframe.txt&gt; result.txt</span><br></pre></td></tr></table></figure>

<p>(joe_py36)<br>~/workspace/exp/FFmpeg_<br>  more result.txt<br>  more result.txt<br>1       keyframe-01.jpeg<br>3       keyframe-02.jpeg<br>16      keyframe-03.jpeg<br>25      keyframe-04.jpeg<br>30      keyframe-05.jpeg<br>46      keyframe-06.jpeg<br>55      keyframe-07.jpeg<br>59      keyframe-08.jpeg<br>70      keyframe-09.jpeg<br>83      keyframe-10.jpeg<br>100     keyframe-11.jpeg<br>116     keyframe-12.jpeg</p>
<h3 id="ffmpeg-all40"><a href="#ffmpeg-all40" class="headerlink" title="ffmpeg-all40"></a><a href="http://blog.chinaunix.net/uid-10062010-id-5137275.html" target="_blank" rel="noopener">ffmpeg-all40</a></h3><p><a href="http://blog.chinaunix.net/uid-10062010-id-5137275.html" target="_blank" rel="noopener">http://blog.chinaunix.net/uid-10062010-id-5137275.html</a></p>
<p>Ref: <a href="https://superuser.com/questions/885452/extracting-the-index-of-key-frames-from-a-video-using-ffmpeg" target="_blank" rel="noopener">https://superuser.com/questions/885452/extracting-the-index-of-key-frames-from-a-video-using-ffmpeg</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/11/OpenGL/2019-09-11-OpenGL%20-%20shader%202&amp;3&amp;4&amp;5/">OpenGL/2019-09-11-OpenGL - shader 2&amp;3&amp;4&amp;5</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-11</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/OpenGL/">OpenGL</a></span><div class="content"><h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="OpenGL-shader-2"><a href="#OpenGL-shader-2" class="headerlink" title="OpenGL - shader 2"></a>OpenGL - shader 2</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7fb0l120zj312k0fdgzh.jpg" alt="image-20190928161919955"></p>
<p>![image-20190928162048236](/Users/joe/Library/Application Support/typora-user-images/image-20190928162048236.png)</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7fb7mqsisj30qe097tgb.jpg" alt="image-20190928162610910"></p>
<h3 id="OpenGL-shader3"><a href="#OpenGL-shader3" class="headerlink" title="OpenGL - shader3"></a>OpenGL - shader3</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7gev3sadrj30of0pqk4p.jpg" alt="image-20190929151757208"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7gevyp1egj30ij0ojwj6.jpg" alt="image-20190929151855171"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7gex435gtj30g60nan19.jpg" alt="image-20190929152001763"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7gf2uiqehj30gw02g74y.jpg" alt="image-20190929152532403"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7gfamm1epj30nx02tmy4.jpg" alt="image-20190929153106469"></p>
<h3 id="OpenGL-Shader4-FileStream"><a href="#OpenGL-Shader4-FileStream" class="headerlink" title="OpenGL - Shader4 FileStream"></a>OpenGL - Shader4 FileStream</h3><p>Disk - Sector &gt; Track</p>
<p>Sector as unit to return to memory, </p>
<h4 id="FileBuffer-for-CPU-to-handle"><a href="#FileBuffer-for-CPU-to-handle" class="headerlink" title="FileBuffer for CPU to handle"></a>FileBuffer for CPU to handle</h4><h4 id="StringBuffer-to-intepret-FileB"><a href="#StringBuffer-to-intepret-FileB" class="headerlink" title="StringBuffer to intepret FileB"></a>StringBuffer to intepret FileB</h4><h4 id="CPU-to-read-char"><a href="#CPU-to-read-char" class="headerlink" title="CPU to read char*"></a>CPU to read char*</h4><p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7gfgkdj9dj30mo0diq78.jpg" alt="image-20190929153841303"></p>
<h3 id="Coding"><a href="#Coding" class="headerlink" title="Coding"></a>Coding</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7gfkbettaj30h40fcdl2.jpg" alt="image-20190929154217227"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g7q3asksbgj30me0m47gn.jpg" alt="image-20191008001345211"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/11/OpenGL/2019-09-11-OpenGL-Triangle-EBO/">OpenGL/2019-09-11-OpenGL-Triangle-EBO</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-11</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/OpenGL/">OpenGL</a></span><div class="content"><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7btwuvdvpj309r0223yz.jpg" alt="image-20190925161101020"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7btx9xsrzj30y40jo7ak.jpg" alt="image-20190925161121840"></p>
<h3 id="EBO"><a href="#EBO" class="headerlink" title="EBO"></a>EBO</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bu6gox5dj30b104o75p.jpg" alt="image-20190925162013328"></p>
<p> GPUVBOcontext can only handle one VAO &amp; one VBO at the same time.</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bujn9557j30va0inajy.jpg" alt="image-20190925163255470"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bumora4sj30r009i449.jpg" alt="image-20190925163550327"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7buqh4g25j30ov0fitg6.jpg" alt="image-20190925163929372"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bv0iuyicj30t90tn43f.jpg" alt="image-20190925164908733"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/11/OpenGL/2019-09-11-OpenGL%201/">OpenGL/2019-09-11-OpenGL 1</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-11</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/OpenGL/">OpenGL</a></span><div class="content"><h3 id="GLSL"><a href="#GLSL" class="headerlink" title="GLSL"></a>GLSL</h3><p></p>
<p>CPUuniform</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bvl5xl9cj30wm0jnds2.jpg" alt="image-20190925170858998"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bvmvkicgj30lu046abv.jpg" alt="image-20190925171031074"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bvx90nunj30l309k78m.jpg" alt="image-20190925172036044"></p>
<p></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bvy23gurj30m70ex0zf.jpg" alt="image-20190925172119986"></p>
<h3 id="Uniform"><a href="#Uniform" class="headerlink" title="Uniform"></a>Uniform</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7bw7nkgf8j30nz045q6o.jpg" alt="image-20190925173034574"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/10/OpenGL/2019-09-10-OpenGL-3D-Triangle-VBO-VAO/">OpenGL/2019-09-10-OpenGL-3D-Triangle-VBO-VAO</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-10</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/OpenGL/">OpenGL</a></span><div class="content"><h3 id="3D-2D"><a href="#3D-2D" class="headerlink" title="3D 2D"></a>3D 2D</h3><p>All 3D space concepts in OpenGL.</p>
<p>3D coordinates (camera) &gt; 2D plane &gt; colored pixels.</p>
<p><strong><em>2D2D2D2D2D/</em></strong></p>
<h3 id="Shader"><a href="#Shader" class="headerlink" title="Shader"></a>Shader</h3><p> program that GPU runs</p>
<p>GPUCPUOpenGLOpenGL(OpenGL Shading Language, GLSL)</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g72v7ypj0gj30uk0ian1n.jpg" alt="image-20190917220604821"></p>
<p>CPU &gt; GPU</p>
<p> Vertex Shader, Fragment Shader</p>
<h4 id="Geometry-Shader"><a href="#Geometry-Shader" class="headerlink" title="Geometry Shader"></a>Geometry Shader</h4><p></p>
<h4 id="Vertex"><a href="#Vertex" class="headerlink" title="Vertex"></a>Vertex</h4><p>33D(Vertex Data)(Vertex)3D(Vertex Attribute)3DUV</p>
<p><strong><em>OpenGLOpenGL(Primitive)OpenGLGL_POINTSGL_TRIANGLESGL_LINE_STRIP</em></strong></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>VertexShader -&gt; Rasterization -&gt; FragmentShader</p>
<h3 id="Normalized-Device-Coordinates-NDC"><a href="#Normalized-Device-Coordinates-NDC" class="headerlink" title="Normalized Device Coordinates (NDC)"></a>Normalized Device Coordinates (NDC)</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74lnj2v91j30wq0i0dv3.jpg" alt="image-20190919100557092"></p>
<h3 id="Vertex-Data"><a href="#Vertex-Data" class="headerlink" title="Vertex Data"></a>Vertex Data</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74m3bcwprj30uq0f4gss.jpg" alt="image-20190919102118610"></p>
<p>f: means </p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74m6drrucj31b30u0wyu.jpg" alt="image-20190919102416139">   (in Blender)</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74m5tdw1hj30xi0j2jzt.jpg" alt="image-20190919102343448"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74m7xnz39j31c40q4dp7.jpg" alt="image-20190919102545255"></p>
<p></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74m927ogwj30kk0diwfb.jpg" alt="image-20190919102640344"></p>
<h3 id="VBO-amp-VAO"><a href="#VBO-amp-VAO" class="headerlink" title="VBO &amp; VAO"></a>VBO &amp; VAO</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74v9xvqztj30x60hedpb.jpg" alt="image-20190919153900923"></p>
<h3 id="UV"><a href="#UV" class="headerlink" title="UV"></a>UV</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74vebr40mj30h80c2447.jpg" alt="image-20190919154317764"></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="EBO"><a href="#EBO" class="headerlink" title="EBO"></a>EBO</h3><p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74vtx1bshj30w60i4mzf.jpg" alt="image-20190919155433545"></p>
<h3 id="VAO"><a href="#VAO" class="headerlink" title="VAO"></a>VAO</h3><p>VAO</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> VAO;</span><br><span class="line">glGenVertexArrays(<span class="number">1</span>, &amp;VAO);</span><br><span class="line"></span><br><span class="line">--------P.S.--------------------</span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> VAO[<span class="number">10</span>]; <span class="comment">//   array</span></span><br><span class="line">glGenVertexArrays(<span class="number">10</span>, VAO);</span><br><span class="line">--------P.S.--------------------</span><br><span class="line">  </span><br><span class="line">glBindVertexArray(VAO);</span><br><span class="line"></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">int</span> VBO;</span><br><span class="line">glBindBuffer(GL_ARRAY_BUFFER, VBO);</span><br><span class="line">glBufferData(GL_ARRAY_BUFFER, <span class="keyword">sizeof</span>(vertices), vertices, GL_STATIC_DRAW);</span><br></pre></td></tr></table></figure>

<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g74wk2zb4dj30i304j41v.jpg" alt="image-20190919162325003"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/09/06/CV%20notes/2019-09-06-Face-Keypoint-Detection/">CV notes/2019-09-06-Face-Keypoint-Detection</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-09-06</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Deep-Learning/">Deep-Learning</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Deep-Learning/AI/">AI</a></span><div class="content"><p>Ref from: <a href="https://niuyuanyuanna.github.io/2018/11/08/computer_version/face-keypoint-detection/" target="_blank" rel="noopener">https://niuyuanyuanna.github.io/2018/11/08/computer_version/face-keypoint-detection/</a></p>
<h1 id=""><a href="#" class="headerlink" title=""></a></h1><p><a href="https://zhuanlan.zhihu.com/p/31638581" target="_blank" rel="noopener"></a></p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p></p>
<p>(shape)() [0h][0h][0w][0w] 0  1</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<ul>
<li>ASM(Active Shape Model)AAM (Active Appearnce Model) </li>
<li>CSR(Cascaded Shape Regression)</li>
<li></li>
</ul>
<p></p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> <br>$$<br>ex=x^xGTDIODex=DIODx^xGT<br>$$<br>DIODDIODx^xGTx^xGT</p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p></p>
<ul>
<li></li>
</ul>
<ol>
<li>CMU Multi-PIE20041020053 337750,000305GB  15196839</li>
<li>XM2VTS29523603D236068</li>
<li>AR40001267056Ding and Martinez130</li>
<li>IMM24040733 58</li>
<li>MUCT276375576 </li>
<li>PUT10099712048153630</li>
</ol>
<ul>
<li></li>
</ul>
<ol>
<li>BioID 23152120</li>
<li>LFW572413,2331680</li>
<li>AFLW(Annotated Facial Landmarks in the Wild) Flickr25,99321</li>
<li>LFPW(Labeled Face Parts in the Wild)14001100300google, FlickrYahoo3529</li>
<li>AFW(Annotated Faces in the Wild)2056</li>
<li>300-W(300 Faces in-the-Wild Challenge)LFPWHelenAFWXM2VTSIBUG 68</li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h4 id="ASM"><a href="#ASM" class="headerlink" title="ASM"></a>ASM</h4><p>ASM(Active Shape Model)Cootes1995ASMPoint Distribution Model, PDMPDMlandmarksASM</p>
<p></p>
<ul>
<li><ul>
<li><ul>
<li>nn=400 </li>
<li></li>
<li>Procrustes</li>
<li>PCA</li>
</ul>
</li>
<li><ul>
<li></li>
<li></li>
</ul>
</li>
</ul>
</li>
<li><ul>
<li></li>
<li></li>
<li></li>
<li></li>
</ul>
</li>
</ul>
<p></p>
<p></p>
<h4 id="AAM"><a href="#AAM" class="headerlink" title="AAM"></a>AAM</h4><p>AAMActive Appearance Models1998CootesASMAAM[2]AAMASM(Shape Model)(Texture Model)AAM</p>
<h4 id="CPR"><a href="#CPR" class="headerlink" title="CPR"></a>CPR</h4><p>2010DollarCPRCascaded Pose Regression, CPR<br></p>
<p>S=(x1,x2,,xk,,xK)R2KS=(x1,x2,,xk,,xK)R2K</p>
<p>KS2KCPRT</p>
<p>ft=(I,St)ft=(I,St)</p>
<p>shape-indexed featuresHOGSIFTlearning based featuresrtrtSS( update vector)</p>
<p>S=rt((I,St))S=rt((I,St))</p>
<p>SSSSSSS(shape)</p>
<p>St+1=St+SSt+1=St+S</p>
<h4 id="DCNN"><a href="#DCNN" class="headerlink" title="DCNN"></a>DCNN</h4><p>2013 Sun   CNN  CNNDCNN(Deep Convolutional Network) CNN </p>
<p><a href="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/06230452.png" target="_blank" rel="noopener"><img src="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/06230452.png" alt="img"></a></p>
<p>DCNNlevellevel-13CNNlevel-210CNNCNNlevel-3level-210CNN</p>
<p>Level-1CNN F1Face 1EN1EyeNoseNM1NoseMouthF1  39<em>39 5 EN1  39</em>31 3 NM11  39*31 3 Level-1  CNN </p>
<p>Level-2 10  CNN  15*15 CNN </p>
<p>Level-3  Level-2  10  CNN  15*15Level-2  Level-3  Level-1 </p>
<p>Level-1  Level-2  Level-3  Level-1 Level-1  Level-2  Level-3 Level-1 Lcally Sharing Weights</p>
<p>DCNN  BioID  LFPW  3.3GHz  CPU 0.12  5 </p>
<h4 id="Face-DCNN"><a href="#Face-DCNN" class="headerlink" title="Face++ DCNN"></a>Face++ DCNN</h4><p>2013 Face++ DCNN  68  51  17 </p>
<p> CNN </p>
<p><a href="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/92897228.jpg" target="_blank" rel="noopener"><img src="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/92897228.jpg" alt="img"></a></p>
<p> 51 Level-1 Level-2  51  Level-3 Level-3 Level-4  Level-3  51  17 Level-1  bounding boxLevel-2  17  Level-3  Level-4 68  CNN </p>
<p></p>
<ol>
<li> loss </li>
<li> DCNN  CNN  CNN </li>
<li> DCNNLevel-1</li>
</ol>
<h4 id="TCDNN"><a href="#TCDNN" class="headerlink" title="TCDNN"></a>TCDNN</h4><p>2014 Zhang  MTLMulti-Task Learning TCDCNTasks-Constrained Deep Convolutional Network5 </p>
<p><a href="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/15813947.jpg" target="_blank" rel="noopener"><img src="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/15813947.jpg" alt="img"></a></p>
<p>4040CNN2264100</p>
<p> MLT </p>
<p>argmint1Ti=1N(yit,f(xit;wt))+(wt){wt}argmint1Ti=1N(yit,f(xit;wt))+(wt){wt}t=1T</p>
<p></p>
<ul>
<li>f(xit;wt)f(xit;wt)xitxit$ \mathbf{w}^t$</li>
<li>(.)(.)</li>
<li>(wt)(wt)</li>
</ul>
<p> t </p>
<p>wr,{wa}  i=1N(yit,f(xit;wt))+i=1NaAa(yia,f(xia;wa))argminwr,{wa}aA  i=1N(yit,f(xit;wt))+i=1NaAa(yia,f(xia;wa))</p>
<p>aaaa</p>
<p>wr,{wa}  12i=1N(yit,f(xit;wt)2+i=1NaAayialog(p(yiaxia;wa))+t=1Twa22argminwr,{wa}aA  21i=1N(yit,f(xit;wt)2+i=1NaAayialog(p(yiaxia;wa))+t=1Twa22</p>
<p></p>
<p>Early Stopping</p>
<p>TCDCN  AFLW  AFW  CNN  Intel Core i5 cpu  CNN  0.12s TCDCN  17ms</p>
<h4 id="MTCNN"><a href="#MTCNN" class="headerlink" title="MTCNN"></a>MTCNN</h4><p>2016 Zhang MTCNN, Multi-task Cascaded Convolutional Networks</p>
<p>MTCNN  Proposal Network (P-Net)Refine Network (R-Net)Output Network (O-Net)</p>
<p><a href="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/14009657.jpg" target="_blank" rel="noopener"><img src="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/14009657.jpg" alt="img"></a></p>
<p>MTCNN  P-Net NMS P-Net  R-NetR-Net  NMS  false-positive  O-Net  5 </p>
<p> 0Non-face loss  0 loss </p>
<p>mini=1Nj{det,box,landmark}jijLijmini=1Nj{det,box,landmark}jijLij</p>
<p></p>
<ul>
<li>jjjjP-Netdet=1det=1box=0.5box=0.5landmark=0.5landmark=0.5R-Netdet=1det=1box=0.5box=0.5landmark=1landmark=1R-Net$\alpha_{landmark} $</li>
<li>ij(0,1)ij(0,1)</li>
</ul>
<p>Hard Sample mini-batch  70%  30%  30% </p>
<h4 id="TCNN"><a href="#TCNN" class="headerlink" title="TCNN"></a>TCNN</h4><p>TCNNTweaked Convolutional Neural Networks2016 Wu  CNN  GMMGaussian Mixture Model,  TCNNTweaked Convolutional Neural Networks</p>
<p><a href="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/89918024.jpg" target="_blank" rel="noopener"><img src="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/89918024.jpg" alt="img"></a></p>
<p>Vanilla CNN FC5FC5 K  FC6KFC6K Vanilla CNN  FC5FC5 FC5FC5 K  FC5FC5 FC6FC6</p>
<p> Vanilla CNN  K=64 </p>
<p><a href="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/62921355.jpg" target="_blank" rel="noopener"><img src="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/62921355.jpg" alt="img"></a></p>
<p> AFLW,AFW  300W </p>
<h2 id="DAN"><a href="#DAN" class="headerlink" title="DAN"></a>DAN</h2><h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>DAN</p>
<ol>
<li>CSRbackboneCSR</li>
<li>CSR</li>
<li>T(I)T(I)H(I)H(I)F(I)F(I)</li>
<li></li>
<li>loss</li>
</ol>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p>2017 Kowalski DANDeep Alignment NetworkDAN DAN  DAN Landmark HeatmapsDAN </p>
<p><a href="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/55049944.jpg" target="_blank" rel="noopener"><img src="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/55049944.jpg" alt="img"></a></p>
<p>DAN Face ShapeCONNECTION LAYER </p>
<p><a href="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/83789038.jpg" target="_blank" rel="noopener"><img src="https://github.com/niuyuanyuanna/BlogImages/raw/master/computerVersion/83789038.jpg" alt="img"></a></p>
<p> S0S0 S0S0 S1S1 S1S1 CONNECTION LAYERS  T2(I)T2(I) S1S1 H2H2 fc1fc1 SNSN</p>
<p>DAN IMAGE TRANSFORM DAN IMAGE TRANSFORMStSt</p>
<p>St=Tt1(Tt(St1)+St)St=Tt1(Tt(St1)+St)</p>
<p>Feed forward NN</p>
<table>
<thead>
<tr>
<th align="center">Name</th>
<th align="center">Shape-in</th>
<th align="center">Shape-out</th>
<th align="center">Kernel</th>
</tr>
</thead>
<tbody><tr>
<td align="center">conv1a</td>
<td align="center">1121121</td>
<td align="center">11211264</td>
<td align="center">331,1</td>
</tr>
<tr>
<td align="center">conv1b</td>
<td align="center">11211264</td>
<td align="center">11211264</td>
<td align="center">3364,1</td>
</tr>
<tr>
<td align="center">pool1</td>
<td align="center">11211264</td>
<td align="center">565664</td>
<td align="center">221,2</td>
</tr>
<tr>
<td align="center">conv2a</td>
<td align="center">565664</td>
<td align="center">5656128</td>
<td align="center">3364,1</td>
</tr>
<tr>
<td align="center">conv2b</td>
<td align="center">5656128</td>
<td align="center">5656128</td>
<td align="center">33128,1</td>
</tr>
<tr>
<td align="center">pool2</td>
<td align="center">5656128</td>
<td align="center">2828128</td>
<td align="center">221,2</td>
</tr>
<tr>
<td align="center">conv3a</td>
<td align="center">2828128</td>
<td align="center">2828256</td>
<td align="center">33128,1</td>
</tr>
<tr>
<td align="center">conv3b</td>
<td align="center">2828256</td>
<td align="center">2828256</td>
<td align="center">33256,1</td>
</tr>
<tr>
<td align="center">pool3</td>
<td align="center">2828256</td>
<td align="center">1414256</td>
<td align="center">221,2</td>
</tr>
<tr>
<td align="center">conv4a</td>
<td align="center">1414256</td>
<td align="center">1414512</td>
<td align="center">33256,1</td>
</tr>
<tr>
<td align="center">conv4b</td>
<td align="center">1414512</td>
<td align="center">1414512</td>
<td align="center">33512,1</td>
</tr>
<tr>
<td align="center">pool4</td>
<td align="center">1414512</td>
<td align="center">77512</td>
<td align="center">221,2</td>
</tr>
<tr>
<td align="center">fc1</td>
<td align="center">77512</td>
<td align="center">11256</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">fc2</td>
<td align="center">11256</td>
<td align="center">11136</td>
<td align="center">-</td>
</tr>
</tbody></table>
<p>Feed Forward NNIMAGE TRANSFORMStStTt1()Tt1()</p>
<p></p>
<p>H(x,y)=11+SiTt(St1)  (x,y)SiH(x,y)=1+minSiTt(St1)  (x,y)Si1</p>
<p>fc1fc1 CNN DAN DAN </p>
<h2 id="EmotionalDAN"><a href="#EmotionalDAN" class="headerlink" title="EmotionalDAN"></a>EmotionalDAN</h2><p>Author: NYY</p>
<p>Link: <a href="http://yoursite.com/2018/11/08/computer_version/face-keypoint-detection/">http://yoursite.com/2018/11/08/computer_version/face-keypoint-detection/</a></p>
<p>Copyright Notice: All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a>unless stating additionally.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/08/24/OpenGL/Adobe%20Animiation%20Flow/">OpenGL/Adobe Animiation Flow</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-08-24</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Graphic/">Graphic</a></span><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Adobe/">Adobe</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/Animation/">Animation</a></span><div class="content"><ol>
<li>Download Adobe &amp; Zii , in <a href="https://www.waitsun.com/adobe-zii-2019.html" target="_blank" rel="noopener">https://www.waitsun.com/adobe-zii-2019.html</a></li>
<li>install body movin</li>
<li><a href="https://github.com/airbnb/lottie-web#plugin-installation" target="_blank" rel="noopener">https://github.com/airbnb/lottie-web#plugin-installation</a> &amp; ZXP_installer : <a href="https://www.jianshu.com/p/9a1500571269" target="_blank" rel="noopener">https://www.jianshu.com/p/9a1500571269</a></li>
</ol>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/08/21/DevOps/2019-08-21-Homebrew-change-mirror-source/">DevOps/2019-08-21-Homebrew-change-mirror-source</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-08-21</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/DevOps/">DevOps</a></span><div class="content"><p>HomebrewMacbrew updatebrewHomebrew, coding.net </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="comment">#cd to homebrew foler</span></span><br><span class="line">$ <span class="built_in">cd</span> <span class="string">"<span class="variable">$(brew --repo)</span>"</span></span><br><span class="line">$ <span class="comment">#check  git remote status</span></span><br><span class="line">$ git remote -v;</span><br><span class="line">https://github.com/Homebrew/homebrew.git</span><br><span class="line">$ <span class="comment">#update remote url with Coding.net</span></span><br><span class="line">$ git remote <span class="built_in">set</span>-url origin https://git.coding.net/homebrew/homebrew.git</span><br><span class="line">$ brew update</span><br></pre></td></tr></table></figure>



<p></p>
<p>brew</p>
<ul>
<li>brew    <a href="http://mirrors.ustc.edu.cn/homebrew.git" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/homebrew.git</a></li>
<li>brew  <a href="http://mirrors.ustc.edu.cn/homebrew.git" target="_blank" rel="noopener">http://mirrors.ustc.edu.cn/homebrew.git</a></li>
</ul>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/08/04/CV%20notes/2019-08-04-Pose-Generation/">CV notes/2019-08-04-Pose-Generation</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-08-04</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Deep-Learning/">Deep-Learning</a><i class="fa fa-angle-right" aria-hidden="true"></i><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Deep-Learning/AI/">AI</a></span><div class="content"><p>(NOT MY NOTE, ref from colleaques)</p>
<h3 id="Deformable-GANs-for-Pose-based-Human-Image-Generation"><a href="#Deformable-GANs-for-Pose-based-Human-Image-Generation" class="headerlink" title="Deformable GANs for Pose-based Human Image Generation."></a>Deformable GANs for Pose-based Human Image Generation.</h3><p><a href="https://github.com/AliaksandrSiarohin/pose-gan" target="_blank" rel="noopener">https://github.com/AliaksandrSiarohin/pose-gan</a>.  cvpr2018</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6hp3mtcvuj30rp0aq42d.jpg" alt=""></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6hp4oxs5gj30gd0adwh2.jpg" alt=""></p>
<h3 id="Progressive-Pose-Attention-for-Person-Image-Generation"><a href="#Progressive-Pose-Attention-for-Person-Image-Generation" class="headerlink" title="Progressive Pose Attention for Person Image Generation"></a>Progressive Pose Attention for Person Image Generation</h3><p><a href="https://github.com/tengteng95/Pose-Transfer" target="_blank" rel="noopener">https://github.com/tengteng95/Pose-Transfer</a>.  cvpr2019, </p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6gthtcaz5j30o70b2wfd.jpg" alt=""></p>
<p>Pose  Attentional Blockimage pathwaypose pathwayPose MaskMtPose Mask</p>
<p>BlockImage Pathway</p>
<h3 id="Unsupervised-Person-Image-Generation-with-Semantic-Parsing-Transformation"><a href="#Unsupervised-Person-Image-Generation-with-Semantic-Parsing-Transformation" class="headerlink" title="Unsupervised Person Image Generation with Semantic Parsing Transformation"></a>Unsupervised Person Image Generation with Semantic Parsing Transformation</h3><p><a href="https://github.com/SijieSong/person_generation_spt" target="_blank" rel="noopener">https://github.com/SijieSong/person_generation_spt</a>. cvpr2019</p>
<p>semantic parsing</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6lf6q884ej311s0mb0vb.jpg" alt="">  </p>
<p>###Dense Intrinsic Appearance Flow for Human Pose Transfer</p>
<p><a href="https://github.com/ly015/intrinsic_flow" target="_blank" rel="noopener">https://github.com/ly015/intrinsic_flow</a>      cvpr2019</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6m4tdrihzj31dk0lsgrt.jpg" alt=""></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6m4v9xer1j31bg0j40u9.jpg" alt=""></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6m4vecqfjj30o407udg5.jpg" alt=""></p>
<p>###Disentangled Person Image Generation</p>
<p><a href="https://github.com/charliememory/Disentangled-Person-Image-Generation" target="_blank" rel="noopener">https://github.com/charliememory/Disentangled-Person-Image-Generation</a> cvpr2018</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6m4zyq9zhj31pa0n076v.jpg" alt=""></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6m4xvk2woj31l00l8di5.jpg" alt=""></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/08/02/DevOps/2019-08-02-Docker-w-Pycharm/">DevOps/2019-08-02-Docker-w-Pycharm</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-08-02</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/DevOps/">DevOps</a></span><div class="content"><h3 id="docker-ssh"><a href="#docker-ssh" class="headerlink" title="docker ssh"></a>docker ssh</h3><h5 id="Concept"><a href="#Concept" class="headerlink" title="Concept"></a>Concept</h5><p>docker</p>
<p>#####docker container</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nvidia-docker run -it -p [host_port]:[container_port](<span class="keyword">do</span> not use 8888) --name:[container_name] [image_name] -v [container_path]:[host_path] /bin/bash</span><br></pre></td></tr></table></figure>

<p></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nvidia-docker run -p 5592:5592 -p 5593:5593 -p 8022:22 --name=<span class="string">"liuzhen_tf"</span> -v ~/workspace/liuzhen/remote_workspace:/workspace/liuzhen/remote_workspace -it tensorflow/tensorflow:latest-gpu /bin/bash</span><br></pre></td></tr></table></figure>

<h5 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h5><p>sshopenssh-server</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ apt update</span><br><span class="line">$ apt install -y openssh-server</span><br></pre></td></tr></table></figure>

<p>ssh</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /var/run/sshd</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">'root:passwd'</span> | chpasswd</span><br><span class="line"><span class="comment"># passwd</span></span><br><span class="line">$ sed -i <span class="string">'s/PermitRootLogin prohibit-password/PermitRootLogin yes/'</span> /etc/ssh/sshd_config</span><br><span class="line">$ sed <span class="string">'s@session\s*required\s*pam_loginuid.so@session optional pam_loginuid.so@g'</span> -i /etc/pam.d/sshd</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">"export VISIBLE=now"</span> &gt;&gt; /etc/profile</span><br></pre></td></tr></table></figure>

<h5 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h5><p>(<u></u>dockerSSHdockerssh)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ service ssh restart</span><br></pre></td></tr></table></figure>

<p>dockerdocker22</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ sudo docker port [your_container_name] 22</span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># 0.0.0.0:8022</span></span><br></pre></td></tr></table></figure>

<p>SSHdocker</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh root@[your_host_ip] -p 8022</span><br><span class="line"><span class="comment"># </span></span><br></pre></td></tr></table></figure>

<h3 id="pycharm"><a href="#pycharm" class="headerlink" title="pycharm"></a>pycharm</h3><h5 id=""><a href="#" class="headerlink" title=""></a></h5><p>PyCharm<code>Tools &gt; Deployment &gt; Configuration</code></p>
<p>#####SFTP</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6gtkcxaeaj315r0u03zh.jpg" alt="image-20190828175349739"></p>
<p>228022Root Pathdocker</p>
<p>Mappings<em>Root Path</em>MappingRoot Path<em></em>docker</p>
<p>#####</p>
<p>PyCharm<code>Preferences &gt; Project Interpreter</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6gtlykktsj317a0u0q4w.jpg" alt="image-20190828190716498"></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6gtrxo163j307705et8o.jpg" alt=""></p>
<p>ssh Interpreter</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6gtml7aj1j31d30u0aam.jpg" alt="image-20190828191025481"></p>
<h5 id=""><a href="#" class="headerlink" title=""></a></h5><p><code>run &gt; edit confuriguration</code></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6gtmztm35j30r80sk758.jpg" alt="image-20190828191253964"></p>
<h3 id="docker-jupyter"><a href="#docker-jupyter" class="headerlink" title="docker jupyter"></a>docker jupyter</h3><p>jupyter-notebook88885592</p>
<p>apt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure>

<p>jupyter</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install jupyter</span><br></pre></td></tr></table></figure>

<p>(pip install jupyter notebook==5.7.5bug)</p>
<p>jupyter</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">jupyter.jupyter/jupyter_notebook_config.py</span></span><br><span class="line">jupyter notebook --generate-config</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">ipython</span></span><br><span class="line">In [1]: from notebook.auth import passwd</span><br><span class="line">In [2]: passwd()</span><br><span class="line">Enter password: </span><br><span class="line">Verify password: </span><br><span class="line">Out[2]: 'sha1:38a5ecdf288b:c82dace8d3c7a212ec0bd49bbb99c9af3bae076e'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">.jupyter/jupyter_notebook_config.py</span></span><br><span class="line">c.NotebookApp.ip='*'                          #</span><br><span class="line">c.NotebookApp.password = u'sha1:38a5ecdf288b:c82dace8d3c7a212ec0bd49bbb99c9af3bae076e'</span><br><span class="line">c.NotebookApp.open_browser = False            #</span><br><span class="line">c.NotebookApp.port =5592                      #8888docker</span><br><span class="line">c.NotebookApp.allow_remote_access = True</span><br><span class="line">c.NotebookApp.allow_root = True               #allow the user to run the notebook as root</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> jupyter notebook</span></span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/08/01/DevOps/2019-08-01-Rebase/">DevOps/2019-08-01-Rebase</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-08-01</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/DevOps/">DevOps</a></span><div class="content"><p>ref: <a href="https://git-scm.com/book/zh/v2/Git--" target="_blank" rel="noopener">https://git-scm.com/book/zh/v2/Git-%E5%88%86%E6%94%AF-%E5%8F%98%E5%9F%BA</a></p>
<h2 id=""><a href="#" class="headerlink" title=""></a></h2><p> Git <code>merge</code>  <code>rebase</code> </p>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p> <a href="https://git-scm.com/book/zh/v2/ch00/r_basic_merging" target="_blank" rel="noopener"></a> </p>
<p><img src="https://git-scm.com/book/en/v2/images/basic-rebase-1.png" alt=""></p>
<p>Figure 35. </p>
<p> <code>merge</code>  <code>C3</code>  <code>C4</code><code>C2</code></p>
<p><img src="https://git-scm.com/book/en/v2/images/basic-rebase-2.png" alt=""></p>
<p>Figure 36. </p>
<p> <code>C4</code>  <code>C3</code>   Git  <em></em>  <code>rebase</code> </p>
<p></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout experiment</span><br><span class="line">$ git rebase master</span><br><span class="line">First, rewinding head to replay your work on top of it...</span><br><span class="line">Applying: added staged <span class="built_in">command</span></span><br></pre></td></tr></table></figure>

<p> <code>experiment</code> <code>master</code> <code>C2</code> <code>C3</code>,  commit id</p>
<p><img src="https://git-scm.com/book/en/v2/images/basic-rebase-3.png" alt=" `C4`  `C3` "></p>
<p>Figure 37.  <code>C4</code>  <code>C3</code> </p>
<p> <code>master</code> </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout master</span><br><span class="line">$ git merge experiment</span><br></pre></td></tr></table></figure>

<p><img src="https://git-scm.com/book/en/v2/images/basic-rebase-4.png" alt="master "></p>
<p>Figure 38. master </p>
<p><code>C4&#39;</code>  <code>merge</code>  <code>C5</code>   </p>
<p>  <code>origin/master</code>  </p>
<p> </p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/07/31/FFmpeg/2019-07-31-ffmepg-cmds-2/">FFmpeg/2019-07-31-ffmepg-cmds-2</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-31</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/ffmpeg/">ffmpeg</a></span><div class="content"><p>1.ffmpegAE(a.mov:16Ma.mp4:2.7M)(b.mov:13Ma.mp4:1.6M)<br><code>ffmpeg -i a.mov -vcodec png a.mp4</code></p>
<p>2.(a.mp4:2.7Ma_fittime.mp4:2.6M)<br><code>ffmpeg -i a.mp4 -vf setpts=0.96*PTS -vcodec png a_fittime.mp4</code><br>6.2566.08</p>
<p>3.(intro_3_4.mp4:1.1Ma_fit_add.mp4:424k)<br><code>ffmpeg -i intro_3_4.mp4 -i a_fittime.mp4 -filter_complex overlay -strict -2 a_fit_add.mp4</code></p>
<p>4.Preset</p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6gy1g7akqezzvtj30rv0j9dkl.jpg" alt="image"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ffoutputs += <span class="string">"[1:v]scale=if(gt(&#123;0&#125;/iw\, &#123;1&#125;/ih)\, -1\, &#123;0&#125;)"</span> \</span><br><span class="line">                       <span class="string">":if(gt(&#123;0&#125;/iw\, &#123;1&#125;/ih)\, &#123;1&#125;\, -1)[video];"</span>.format(dest_w, dest_h)</span><br></pre></td></tr></table></figure>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/07/07/Front-End/2019-07-07-front-end%20rendering/">Front-End Rendering!</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-07-07</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Front-End-Rendering/">Front-End-Rendering</a></span><div class="content"><h3 id="Front-End-Rendering"><a href="#Front-End-Rendering" class="headerlink" title="Front-End Rendering"></a>Front-End Rendering</h3><ul>
<li><br><a href="https://www.runoob.com/cssref/css3-pr-filter.html" target="_blank" rel="noopener">https://www.runoob.com/cssref/css3-pr-filter.html</a><br><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6nijqvpwvj31410kzgxe.jpg" alt="image-20190904152108270"></li>
</ul>
<ul>
<li><p></p>
<p><a href="https://codepen.io/wuyeguangming/pen/jONaWXr" target="_blank" rel="noopener">https://codepen.io/wuyeguangming/pen/jONaWXr</a></p>
</li>
</ul>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6nibg1wusj31kz0u0aua.jpg" alt=""></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6nij8edvlj31kc0u0nb7.jpg" alt="image-20190904152348021"></p>
<ul>
<li><p><br><a href="https://animejs.com/" target="_blank" rel="noopener">https://animejs.com/</a></p>
</li>
<li><p><br><a href="http://brm.io/matter-js/" target="_blank" rel="noopener">http://brm.io/matter-js/</a></p>
</li>
<li><p><br><a href="http://matthew.wagerfield.com/parallax/" target="_blank" rel="noopener">http://matthew.wagerfield.com/parallax/</a></p>
</li>
<li><p>3d<br><a href="https://threejs.org/examples/#webgl_animation_multiple" target="_blank" rel="noopener">https://threejs.org/examples/#webgl_animation_multiple</a></p>
</li>
<li><p><br><a href="https://www.mixamo.com/#/" target="_blank" rel="noopener">https://www.mixamo.com/#/</a></p>
<p><img src="https://tva1.sinaimg.cn/large/006y8mN6ly1g6nijxu7ahj31l00u04qp.jpg" alt="image-20190904151945987"></p>
</li>
</ul>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><p><a href="https://animejs.com/" target="_blank" rel="noopener">https://animejs.com/</a><br><a href="http://svgjs.com/" target="_blank" rel="noopener">http://svgjs.com</a><br><a href="https://daneden.github.io/animate.css/" target="_blank" rel="noopener">https://daneden.github.io/animate.css/</a></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/06/25/FFmpeg/2019-06-25-ffmpeg-cmds/">ffmpeg_cmds!</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-06-25</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/ffmpeg/">ffmpeg</a></span><div class="content"><h2 id="rm-black-sides"><a href="#rm-black-sides" class="headerlink" title="rm black sides"></a>rm black sides</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> ffplay -i vn_hflip.mp4 -t 5 -vf cropdetect</span><br><span class="line"> ffplay -i vn_hflip.mp4 -t 5 -vf crop=1280:528:0:96</span><br></pre></td></tr></table></figure>

<h2 id="save-to-json"><a href="#save-to-json" class="headerlink" title="save to json"></a>save to json</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -hide_banner -print_format json -show_streams -i vn_hflip.mp4 &gt; vn_json_streams.log</span><br></pre></td></tr></table></figure>

<h2 id="check-error"><a href="#check-error" class="headerlink" title="check error"></a>check error</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffprobe -show_frames vn_hflip.mp4 &gt; vn_show_frames.log</span><br></pre></td></tr></table></figure>

<h2 id="video-to-pics"><a href="#video-to-pics" class="headerlink" title="video to pics"></a>video to pics</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i vn_hflip.mp4 -r 40 -f image2         -t 1 my%d.jpg        <span class="comment">## video25fps</span></span><br><span class="line"><span class="string">""</span><span class="string">"2938"</span><span class="string">""</span>  ffmpeg -i vn_hflip.mp4 -r 25 -f image2 -t 1 my25_%d.jpg <span class="comment">## 25 rate</span></span><br><span class="line">ffmpeg -i vn_hflip.mp4 -vcodec mjpeg -ss 0:0:2 -t 0:0:1 0m%04d.jpg  <span class="comment">## </span></span><br><span class="line"></span><br><span class="line">2937  ffmpeg -i vn_hflip.mp4 -r 40 -f image2 -t 1 my25_%d.jpg</span><br><span class="line"> -r, -ss, -t  videorate</span><br><span class="line"></span><br><span class="line">ffmpeg -i vn_hflip.mp4 -ss 00:00:14.435 -vframes 1 out.png</span><br><span class="line"> -vframes </span><br></pre></td></tr></table></figure>

<h2 id="pics-to-video"><a href="#pics-to-video" class="headerlink" title="pics to video"></a>pics to video</h2><p>h264avimy0.jpg, my1.jpg  my99.jpg</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i my%d.jpg  -vcodec h264 my.avi</span><br></pre></td></tr></table></figure>



<p>-r </p>
<p></p>
<p>25FPSlen(Images[])videoduration. </p>
<p>25FPSvideo,  -r output</p>
<p>-r input</p>
<p>ffmpeg -r 10 -i z-%5d.jpeg -vcodec h264 -r 60 out10in60out.mp4</p>
<p>1060fpsvideo60fps</p>
<h2 id="video-to-gif"><a href="#video-to-gif" class="headerlink" title="video to gif"></a>video to gif</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i vn_hflip.mp4 -ss 0 -r 1 -vframes 6 vn.gif</span><br><span class="line">ffmpeg -i vn_hflip.mp4 -ss 0 -vf fps=1 -vframes 6 vn_fps.gif <span class="comment"># </span></span><br></pre></td></tr></table></figure>




<p>##EXTRACTION !!!</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> 2999  ffmpeg -i ../vn_hflip.mp4 -ss 00:00:00 -t 10 -vf fps=1 fps1_%d.png</span><br><span class="line">(joe_py36) [joe@JoeMBP2] - [~/Movies/exp/tmp] - [3003]</span><br><span class="line">[$] <span class="built_in">history</span> | grep r1                                                                                                                                                                           [22:06:04]</span><br><span class="line"> 2975  ffmpeg -i ../vn_hflip.mp4 -r 1 r1_%d.png</span><br><span class="line"> 2977  ffmpeg -i ../vn_hflip.mp4 -r 1 -vframes 6 r1_vframes_%d.png</span><br></pre></td></tr></table></figure>







<h2 id="add-logo"><a href="#add-logo" class="headerlink" title="add logo"></a>add logo</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i vn_hflip.mp4 -i ~/Pictures/Sackboy_0.jpeg -filter_complex overlay=W-w:H-h vn_logo.avi</span><br><span class="line">    : ffmpeg -i God.rm -i logo.png -filter_complex overlay=W-w:H-h my.avi</span><br><span class="line">    :  ffmpeg -i God.rm -i logo.png -filter_complex overlay=W/2-w/2:H/2-h/2 my.avi</span><br></pre></td></tr></table></figure>



</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/06/07/Web/2019-06-07-Requests'%20secret:%20pool_connections%20and%20pool_maxsize/">Web/2019-06-07-Requests' secret: pool_connections and pool_maxsize</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-06-07</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/Web/">Web</a></span><div class="content"><p>from: <a href="https://www.cnblogs.com/pengyusong/p/5802929.html" target="_blank" rel="noopener">https://www.cnblogs.com/pengyusong/p/5802929.html</a></p>
<p>and <a href="https://laike9m.com/blog/requests-secret-pool_connections-and-pool_maxsize,89/" target="_blank" rel="noopener">https://laike9m.com/blog/requests-secret-pool_connections-and-pool_maxsize,89/</a></p>
<h1 id="Requests-secret-pool-connections-and-pool-maxsize"><a href="#Requests-secret-pool-connections-and-pool-maxsize" class="headerlink" title="Requests secret: pool_connections and pool_maxsize"></a><strong>Requests secret: pool_connections and pool_maxsize</strong></h1><p><a href="http://docs.python-requests.org/en/latest/" target="_blank" rel="noopener">Requests</a> pythonAPIrequestsurllib2httprequests: <code>pool_connections</code> <code>pool_maxsize</code>.</p>
<p> <code>Session </code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">s = requests.Session()</span><br><span class="line">s.get(<span class="string">'https://www.google.com'</span>)</span><br></pre></td></tr></table></figure>

<p>requests <code>Session</code> cookie.  <code>Session</code>  <a href="http://docs.python-requests.org/en/latest/api/#requests.Session.mount" target="_blank" rel="noopener"><code>mount</code></a> ?</p>
<blockquote>
<p><code>mount(prefix, adapter)</code><br>Registers a connection adapter to a prefix.<br>Adapters are sorted in descending order by key length.</p>
</blockquote>
<p>session:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Session</span><span class="params">(SessionRedirectMixin)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="comment"># Default connection adapters.</span></span><br><span class="line">        self.adapters = OrderedDict()</span><br><span class="line">        self.mount(<span class="string">'https://'</span>, HTTPAdapter())</span><br><span class="line">        self.mount(<span class="string">'http://'</span>, HTTPAdapter())</span><br></pre></td></tr></table></figure>

<p> Ian Cordascos  <a href="http://www.coglib.com/~icordasc/blog/2014/12/retries-in-requests.html" target="_blank" rel="noopener">Retries in Requests</a>,  <code>HTTPAdapter</code> .  <code>HTTPAdapter</code> ? Quoted from <a href="http://docs.python-requests.org/en/latest/api/#requests.adapters.HTTPAdapter" target="_blank" rel="noopener">doc</a>:</p>
<blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">requests</span>.<span class="title">adapters</span>.<span class="title">HTTPAdapter</span><span class="params">(pool_connections=<span class="number">10</span>, pool_maxsize=<span class="number">10</span>, max_retries=<span class="number">0</span>, pool_block=False)</span></span></span><br></pre></td></tr></table></figure>

<p>The built-in HTTP Adapter for urllib3.</p>
<p>Provides a general-case interface for Requests sessions to contact HTTP and HTTPS urls by implementing the Transport Adapter interface. This class will usually be created by the Session class under the covers.</p>
<p>Parameters:</p>
<ul>
<li><code>pool_connections</code>  The number of urllib3 connection pools to cache.</li>
<li><code>pool_maxsize</code>  The maximum number of connections to save in the pool.</li>
<li><code>max_retries(int)</code>  The maximum number of retries each connection should attempt. Note, this applies only to failed DNS lookups, socket connections and connection timeouts, never to requests where data has made it to the server. By default, Requests does not retry failed connections. If you need granular control over the conditions under which we retry a request, import urllib3s Retry class and pass that instead.</li>
<li><code>pool_block</code>  Whether the connection pool should block for connections. Usage:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; <span class="keyword">import</span> requests</span><br><span class="line">&gt;&gt; s = requests.Session()</span><br><span class="line">&gt;&gt; a = requests.adapters.HTTPAdapter(max_retries=<span class="number">3</span>)</span><br><span class="line">&gt;&gt; s.mount(<span class="string">'http://'</span>, a)</span><br></pre></td></tr></table></figure>
</blockquote>
<p>: HTTP Adapter url</p>
<p>what HTTP Adapter does is simply <strong>providing different configurations for different requests according to target url</strong>. Remember the code above?</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">self.mount(<span class="string">'https://'</span>, HTTPAdapter())</span><br><span class="line">self.mount(<span class="string">'http://'</span>, HTTPAdapter())</span><br></pre></td></tr></table></figure>

<p> <code>HTTPAdapter</code> <code>pool_connections=10, pool_maxsize=10, max_retries=0, pool_block=False</code>,  <code>https://</code>  <code>http:// </code>,  <code>http://xxx   ``https://xxx</code>. httphttps</p>
<p> <code>pool_connections</code> and <code>pool_maxsize</code>.</p>
<p> <code>pool_connections</code>. stackoverflow<a href="http://stackoverflow.com/questions/34837026/whats-the-meaning-of-pool-connections-in-requests-adapters-httpadapter" target="_blank" rel="noopener">question</a> HTTPTCPHTTPTCP:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(&lt;protocol&gt;, &lt;src addr&gt;, &lt;src port&gt;, &lt;dest addr&gt;, &lt;dest port&gt;)</span><br></pre></td></tr></table></figure>

<p> <code>www.example.com HTTP/TCP</code>,  <code>Keep-Alive</code>,  <code>www.example.com/a</code> or <code>www.example.com/b</code>, . , <a href="http://docs.python-requests.org/en/latest/user/advanced/#keep-alive" target="_blank" rel="noopener">requests Session </a> .</p>
<p> <code>pool_connections</code>!</p>
<blockquote>
<p>pool_connections  The number of urllib3 connection pools to cache.</p>
</blockquote>
<p>, .  host<strong>one connection pool corresponds to one host</strong>, .</p>
<p>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">s = requests.Session()</span><br><span class="line">s.mount(<span class="string">'https://'</span>, HTTPAdapter(pool_connections=1))</span><br><span class="line">s.get(<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line">s.get(<span class="string">'https://www.zhihu.com'</span>)</span><br><span class="line">s.get(<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">""</span><span class="string">"output</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.baidu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 None</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.zhihu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 2621</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.baidu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 None</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br></pre></td></tr></table></figure>

<p><code>HTTPAdapter(pool_connections=1)</code>  <code>https://</code>, .  <code>s.get(&#39;https://www.baidu.com&#39;)</code>,  <code>connectionpool(&#39;https://www.baidu.com&#39;)</code>.  <code>s.get(&#39;https://www.zhihu.com&#39;)</code> sessionhost(one connection pool corresponds to one host, remember?). session.  <code>pool_connections=1</code>, session,  <code>connectionpool(&#39;https://www.baidu.com&#39;)</code> <code>connectionpool(&#39;https://www.zhihu.com&#39;)</code>. getNext <code>get</code> is the same.  <code>Starting new HTTPS connection</code> </p>
<p> <code>pool_connections</code>  2:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">s = requests.Session()</span><br><span class="line">s.mount(<span class="string">'https://'</span>, HTTPAdapter(pool_connections=2))</span><br><span class="line">s.get(<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line">s.get(<span class="string">'https://www.zhihu.com'</span>)</span><br><span class="line">s.get(<span class="string">'https://www.baidu.com'</span>)</span><br><span class="line"><span class="string">""</span><span class="string">"output</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.baidu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 None</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.zhihu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 2623</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 None</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br></pre></td></tr></table></figure>

<p></p>
<p>, <code>pool_maxsize</code>.</p>
<p>, session <code>pool_maxsize</code> , session.</p>
<p><code>pool_maxsize</code> urllib3s <code>HTTPConnectionPool</code>, . <code>HTTPConnectionPool</code> host,  <code>pool_maxsize</code> .  requests library , HTTP.</p>
<p>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">def thread_get(url):</span><br><span class="line">    s.get(url)</span><br><span class="line"></span><br><span class="line">s = requests.Session()</span><br><span class="line">s.mount(<span class="string">'https://'</span>, HTTPAdapter(pool_connections=1, pool_maxsize=2))</span><br><span class="line">t1 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com'</span>,))</span><br><span class="line">t2 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/36612174'</span>,))</span><br><span class="line">t1.start();t2.start()</span><br><span class="line">t1.join();t2.join()</span><br><span class="line">t3 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/39420364'</span>,))</span><br><span class="line">t4 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/21362402'</span>,))</span><br><span class="line">t3.start();t4.start()</span><br><span class="line"><span class="string">""</span><span class="string">"output</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.zhihu.com</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (2): www.zhihu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/36612174 HTTP/1.1<span class="string">" 200 21906</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 2606</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/21362402 HTTP/1.1<span class="string">" 200 57556</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/39420364 HTTP/1.1<span class="string">" 200 28739</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br></pre></td></tr></table></figure>

<p>? host <code>www.zhihu.com</code>, , .  <code>pool_maxsize=2</code>, <code>t3</code>  <code>t4</code> .</p>
<p>?</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">s = requests.Session()</span><br><span class="line">s.mount(<span class="string">'https://'</span>, HTTPAdapter(pool_connections=1, pool_maxsize=1))</span><br><span class="line">t1 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com'</span>,))</span><br><span class="line">t2 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/36612174'</span>,))</span><br><span class="line">t1.start()</span><br><span class="line">t2.start()</span><br><span class="line">t1.join();t2.join()</span><br><span class="line">t3 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/39420364'</span>,))</span><br><span class="line">t4 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/21362402'</span>,))</span><br><span class="line">t3.start();t4.start()</span><br><span class="line">t3.join();t4.join()</span><br><span class="line"><span class="string">""</span><span class="string">"output</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.zhihu.com</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (2): www.zhihu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/36612174 HTTP/1.1<span class="string">" 200 21906</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 2606</span></span><br><span class="line"><span class="string">WARNING:requests.packages.urllib3.connectionpool:Connection pool is full, discarding connection: www.zhihu.com</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (3): www.zhihu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/39420364 HTTP/1.1<span class="string">" 200 28739</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/21362402 HTTP/1.1<span class="string">" 200 57556</span></span><br><span class="line"><span class="string">WARNING:requests.packages.urllib3.connectionpool:Connection pool is full, discarding connection: www.zhihu.com</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br></pre></td></tr></table></figure>

<p>, <code>pool_maxsize=1</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection pool is full, discarding connection: www.zhihu.com</span><br></pre></td></tr></table></figure>

<p>, t3t4. .  urllib3s :</p>
<blockquote>
<p>, .</p>
</blockquote>
<p>, <code>HTTPAdapter</code> .</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">s = requests.Session()</span><br><span class="line">s.mount(<span class="string">'https://'</span>, HTTPAdapter(pool_connections=1, pool_maxsize=2))</span><br><span class="line">s.mount(<span class="string">'https://baidu.com'</span>, HTTPAdapter(pool_connections=1, pool_maxsize=1))</span><br><span class="line">t1 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com'</span>,))</span><br><span class="line">t2 =Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/36612174'</span>,))</span><br><span class="line">t1.start();t2.start()</span><br><span class="line">t1.join();t2.join()</span><br><span class="line">t3 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/39420364'</span>,))</span><br><span class="line">t4 = Thread(target=thread_get, args=(<span class="string">'https://www.zhihu.com/question/21362402'</span>,))</span><br><span class="line">t3.start();t4.start()</span><br><span class="line">t3.join();t4.join()</span><br><span class="line"><span class="string">""</span><span class="string">"output</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (1): www.zhihu.com</span></span><br><span class="line"><span class="string">INFO:requests.packages.urllib3.connectionpool:Starting new HTTPS connection (2): www.zhihu.com</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/36612174 HTTP/1.1<span class="string">" 200 21906</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET / HTTP/1.1<span class="string">" 200 2623</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/39420364 HTTP/1.1<span class="string">" 200 28739</span></span><br><span class="line"><span class="string">DEBUG:requests.packages.urllib3.connectionpool:"</span>GET /question/21362402 HTTP/1.1<span class="string">" 200 57669</span></span><br><span class="line"><span class="string">"</span><span class="string">""</span></span><br></pre></td></tr></table></figure>

<p>.</p>
<p>requests. gist <a href="https://gist.github.com/laike9m/ead19c65a416c7022c00" target="_blank" rel="noopener">here</a> . </p>
<h2 id="Appendix"><a href="#Appendix" class="headerlink" title="Appendix"></a>Appendix</h2><ol>
<li><p>For https, requests uses urllib3s <a href="http://urllib3.readthedocs.org/en/latest/pools.html#urllib3.connectionpool.HTTPSConnectionPool" target="_blank" rel="noopener">HTTPSConnectionPool</a>, but its pretty much the same as HTTPConnectionPool so I didnt differeniate them in this article.</p>
</li>
<li><p><code>Session</code>s <code>mount</code> method ensures the longest prefix gets matched first. Its implementation is pretty interesting so I posted it here.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mount</span><span class="params">(self, prefix, adapter)</span>:</span></span><br><span class="line">    <span class="string">"""Registers a connection adapter to a prefix.</span></span><br><span class="line"><span class="string">    Adapters are sorted in descending order by key length."""</span></span><br><span class="line">    self.adapters[prefix] = adapter</span><br><span class="line">    keys_to_move = [k <span class="keyword">for</span> k <span class="keyword">in</span> self.adapters <span class="keyword">if</span> len(k) &lt; len(prefix)]</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> keys_to_move:</span><br><span class="line">        self.adapters[key] = self.adapters.pop(key)</span><br></pre></td></tr></table></figure>

<p>Note that <code>self.adapters</code> is an <code>OrderedDict</code>.</p>
</li>
</ol>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/05/03/LC/2019-05-03-Remove-Element/">LC/2019-05-03-Remove-Element</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-03</time><span class="article-meta"><span class="article-meta__separator">|</span><i class="fa fa-inbox article-meta__icon" aria-hidden="true"></i><a class="article-meta__categories" href="/categories/LC/">LC</a></span><div class="content"><p>RemoveElement</p>
<p></p>
</div><hr></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-chevron-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2020 By Joe Huang</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>